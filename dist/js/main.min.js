"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,o){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,o):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,o):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,r=new Array(o);t<o;t++)r[t]=e[t];return r}var correspondingFullscreenLi,navBtn=document.querySelector(".hamburger"),navBar=document.querySelector(".nav"),nav=document.querySelector(".nav__list"),overlay=document.querySelector(".overlay"),links=document.querySelectorAll(".nav__item"),blockScroll=document.body,footerYear=document.querySelector(".footer__year"),contactForm=document.querySelector("#contact-form"),nameForm=document.querySelector("#name"),emailForm=document.querySelector("#email"),msgForm=document.querySelector("#msg"),btnForm=document.querySelector(".contact-form__input-btn"),popup=document.querySelector(".form__popup"),popupBtn=document.querySelector(".form__popup-close"),sections=document.querySelectorAll("section"),header=document.querySelector("header"),headerBtn=document.querySelector(".header__btn-link"),headerArrowDown=document.querySelector(".header__arrow-link"),cookiePopup=document.querySelector(".cookie-popup"),cookieAccept=document.querySelector(".cookie-popup__btn"),gallery=document.querySelectorAll(".gallery__img-container"),images=document.querySelectorAll(".gallery__photo"),fullscreenImages=document.querySelectorAll(".gallery__photo-fullscreen"),headerLinks=[headerBtn,headerArrowDown],sectionsAndHeader=[header].concat(_toConsumableArray(sections)),navbarHeight=navBar.clientHeight,viewportHeight=window.innerHeight,scrollThreshold=200,rootMarginBottomCorrection=110,rootMarginTopCorrection=10,rootMarginBottom="".concat(-(viewportHeight-rootMarginBottomCorrection),"px"),rootMarginTop="".concat(-(navbarHeight+rootMarginTopCorrection),"px"),emailValid=(overlay.style.visibility="hidden",emailjs.init("lgkz6CPgh6GbEuCoO"),0),validateEmail=function(e){var o=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,4}))$/gim;o.test(e.value)&&""!=nameForm.value&&""!=msgForm.value?(removeError(e),contactForm.contact_number.value=Math.floor(1e5*Math.random()),emailjs.sendForm("service_4rabq7e","template_6wtj7m3",contactForm).then(function(){console.log("SUCCESS!")}).catch(function(e){console.log("FAILED...",e)}),emailValid=1):""===e.value?showError(e,e.placeholder):o.test(e.value)&(""!=nameForm.value||""!=msgForm.value)?removeError(e):!1===o.test(e.value)&&(showError(e,"Email jest nieprawidÅ‚owy!"),emailValid=0)},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},closeOverlay=function(){handleOverlay(),navBtn.classList.remove("is-active"),nav.classList.remove("nav__list--active"),blockScroll.classList.remove("block-scroll")},handleOverlay=function(){"hidden"==overlay.style.visibility?(overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1)):(setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"))},handleNav=function(){navBtn.classList.toggle("is-active"),nav.classList.toggle("nav__list--active"),handleOverlay(),blockScroll.classList.toggle("block-scroll")},showError=function(e,o){var e=e.parentElement,t=e.querySelector(".contact-form__error-text");e.classList.add("error"),t.textContent=o},removeError=function(e){e.parentElement.classList.remove("error")},checkErrors=function(){var e=document.querySelectorAll(".contact-form__box"),o=0;e.forEach(function(e){e.classList.contains("error")&&o++}),0===o&&1===emailValid&&(blockScroll.classList.add("block-scroll"),popup.classList.add("show-popup"),overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1))},clearInputs=function(e){e.forEach(function(e){e.value="",removeError(e)})},popupBtnRemoveOverlay=function(e){e.preventDefault(),clearInputs([msgForm,nameForm,emailForm]),blockScroll.classList.remove("block-scroll"),setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"),popup.classList.remove("show-popup")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):removeError(e)})},navBarOpacity=(window.onload=function(){btnForm.addEventListener("click",function(e){e.preventDefault(),checkForm([msgForm,nameForm,emailForm]),validateEmail(emailForm),checkErrors()})},function(){return window.scrollY>=scrollThreshold?navBar.classList.add("nav__opacity"):navBar.classList.remove("nav__opacity")}),alingmentToNavBar=function(e){var e=e.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))},checkCookies=function(){localStorage.getItem("cookies")&&cookiePopup.classList.add("close-popup")},cookiePopupClose=function(e){e.preventDefault(),localStorage.setItem("cookies","true"),cookiePopup.classList.add("close-popup")},hrefToURL=function(e){var e=e.getAttribute("href"),o=window.location.href.split("#")[0],o="".concat(o).concat(e);history.pushState({},"",o)},options=(images.forEach(function(e){e.addEventListener("click",function(){var t=e.getAttribute("src");fullscreenImages.forEach(function(e){var o=e.getAttribute("src"),e=e.parentElement;t===o?(e.classList.toggle("animation"),correspondingFullscreenLi=e,handleOverlay(),blockScroll.classList.add("block-scroll")):e.classList.remove("animation")})})}),handleCurrentYear(),checkCookies(),window.addEventListener("scroll",navBarOpacity),navBtn.addEventListener("click",handleNav),window.addEventListener("click",function(o){fullscreenImages.forEach(function(e){o.target!==e&&(o.target!==overlay||popup.classList.contains("show-popup"))||(closeOverlay(),correspondingFullscreenLi.classList.remove("animation"))})}),popupBtn.addEventListener("click",popupBtnRemoveOverlay),links.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),navBtn.classList.contains("is-active")&&closeOverlay(),alingmentToNavBar(o)})}),headerLinks.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),alingmentToNavBar(o)})}),cookieAccept.addEventListener("click",cookiePopupClose),{root:null,rootMargin:"".concat(rootMarginTop," 0px ").concat(rootMarginBottom," 0px"),threshold:0}),observer=new IntersectionObserver(function(e){e.forEach(function(e){var o=e.target.getAttribute("id"),t=document.querySelector('a[href="#'.concat(o,'"]')),r=window.getComputedStyle(document.querySelector(".hamburger")),n=document.querySelector(".svg-icon");e.isIntersecting?"none"===r.getPropertyValue("display")?(hrefToURL(t),t.style.color="#604a34","home"===o?n.setAttribute("fill","#604a34"):n.setAttribute("fill","#000000")):(hrefToURL(t),t.style.color="#ffa963","home"===o?n.setAttribute("fill","#ffa963"):n.setAttribute("fill","#fff")):t.style.color=""})},options);sectionsAndHeader.forEach(function(e){observer.observe(e)}),document.addEventListener("DOMContentLoaded",function(){var e=window.location.href.split("#")[1];e&&(e=document.getElementById(e))&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2YmFySGVpZ2h0IiwibmF2QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2QmFyIiwibmF2Iiwib3ZlcmxheSIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImJsb2NrU2Nyb2xsIiwiYm9keSIsImZvb3RlclllYXIiLCJjb250YWN0Rm9ybSIsIm5hbWVGb3JtIiwiZW1haWxGb3JtIiwibXNnRm9ybSIsImJ0bkZvcm0iLCJwb3B1cCIsInBvcHVwQnRuIiwic2VjdGlvbnMiLCJoZWFkZXIiLCJoZWFkZXJCdG4iLCJoZWFkZXJBcnJvd0Rvd24iLCJjb29raWVQb3B1cCIsImNvb2tpZUFjY2VwdCIsImdhbGxlcnkiLCJpbWFnZXMiLCJmdWxsc2NyZWVuSW1hZ2VzIiwiY29uY2F0IiwiaGVhZGVyTGlua3MiLCJyb290TWFyZ2luQm90dG9tIiwic2Nyb2xsVGhyZXNob2xkIiwiZW1haWxqcyIsInJvb3RNYXJnaW5Ub3BDb3JyZWN0aW9uIiwiY29ycmVzcG9uZGluZ0Z1bGxzY3JlZW5MaSIsImVtYWlsUmVnIiwiZW1haWxWYWxpZCIsInRlc3QiLCJlbWFpbCIsInZhbHVlIiwicmVtb3ZlRXJyb3IiLCJ2YWxpZGF0ZUVtYWlsIiwiY29udGFjdF9udW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZW5kRm9ybSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNob3dFcnJvciIsInBsYWNlaG9sZGVyIiwiaGFuZGxlQ3VycmVudFllYXIiLCJjbG9zZU92ZXJsYXkiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJoYW5kbGVPdmVybGF5IiwieWVhciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsInNldFRpbWVvdXQiLCJhZGQiLCJoYW5kbGVOYXYiLCJ0b2dnbGUiLCJmb3JtQm94IiwiaW5wdXQiLCJwYXJlbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJlcnJvck1zZyIsImNoZWNrRXJyb3JzIiwiYWxsSW5wdXRzIiwiY29udGFpbnMiLCJlcnJvckNvdW50IiwiZm9yRWFjaCIsImVsIiwicG9wdXBCdG5SZW1vdmVPdmVybGF5IiwicHJldmVudERlZmF1bHQiLCJjbGVhcklucHV0cyIsImUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tGb3JtIiwic2Nyb2xsWSIsImFsaW5nbWVudFRvTmF2QmFyIiwibGluayIsIm5hdkJhck9wYWNpdHkiLCJvbmxvYWQiLCJ0YXJnZXRQb3NpdGlvbiIsImNvb2tpZVBvcHVwQ2xvc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRBdHRyaWJ1dGUiLCJzdWJzdHJpbmciLCJ0YXJnZXRFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0YXJnZXRJZCIsImN1cnJlbnRVUkwiLCJvZmZzZXRUb3AiLCJuZXdVUkwiLCJoaXN0b3J5IiwiZnVsbHNjcmVlblNyYyIsImZ1bGxzY3JlZW5JbWciLCJwYXJlbnRMaSIsImhyZWZUb1VSTCIsImNvcnJlc3BvbmRpbmdMaW5rIiwiaHJlZiIsImxvY2F0aW9uIiwic3BsaXQiLCJjaGVja0Nvb2tpZXMiLCJvcHRpb25zIiwiY2xpY2tlZFNyYyIsInJvb3RNYXJnaW5Ub3AiLCJ0aHJlc2hvbGQiLCJpbWciLCJ0YXJnZXQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsInN2Z05hdkljb24iLCJpc0ludGVyc2VjdGluZyIsImhhbWJ1cmdlclN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNlY3Rpb25zQW5kSGVhZGVyIiwic2VjdGlvbiIsInJvb3RNYXJnaW4iLCJzZWN0aW9uSWQiLCJvYnNlcnZlciIsImVudHJpZXMiLCJpZCIsInRvcCIsImVudHJ5IiwiY29sb3IiLCJzZXRBdHRyaWJ1dGUiLCJvYnNlcnZlIiwic2Nyb2xsVG8iXSwibWFwcGluZ3MiOiJxK0JBQUEsSUF5Qk1BLDBCQXpCQUMsT0FBU0MsU0FBU0MsY0FBYyxZQUFZLEVBQzVDQyxPQUFTRixTQUFTQyxjQUFjLE1BQU0sRUFDdENFLElBQU1ILFNB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QUMzQkEsRUFBa0I3QyxNQUFNc0UsTUFBUSxVQUN6QixTQUFQSCxFQUFnQlYsRUFBV2MsYUFBYSxPQUFRLFNBQVMsRUFBSWQsRUFBV2MsYUFBYSxPQUFRLE1BQU0sR0FHcEcxQixFQUFrQjdDLE1BQU1zRSxNQUFRLEVBRWxDLENBQUMsQ0FDRixFQUFHcEIsT0FBTyxFQUVWVyxrQkFBa0I5QyxRQUFRLFNBQUErQyxHQUN6QkcsU0FBU08sUUFBUVYsQ0FBTyxDQUN6QixDQUFDLEVBRUR4SCxTQUFTZ0YsaUJBQWlCLG1CQUFvQixXQUM3QyxJQUNNMEMsRUFETTNDLE9BQU8wQixTQUFTRCxLQUNORSxNQUFNLEdBQUcsRUFBRSxHQUU3QmdCLElBQ0c5QixFQUFnQjVGLFNBQVM2RixlQUFlNkIsQ0FBUyxLQUVoRG5DLEVBQWlCSyxFQUFjSSxVQUFZbEcsYUFDakRpRixPQUFPb0QsU0FBUyxDQUFFTCxJQUFLdkMsQ0FBZSxDQUFDLEVBRzFDLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBuYXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyJylcclxuY29uc3QgbmF2QmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdicpXHJcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2xpc3QnKVxyXG5jb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm92ZXJsYXknKVxyXG5jb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2l0ZW0nKVxyXG5jb25zdCBibG9ja1Njcm9sbCA9IGRvY3VtZW50LmJvZHlcclxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX3llYXInKVxyXG5jb25zdCBjb250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250YWN0LWZvcm0nKVxyXG5jb25zdCBuYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJylcclxuY29uc3QgZW1haWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VtYWlsJylcclxuY29uc3QgbXNnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtc2cnKVxyXG5jb25zdCBidG5Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtZm9ybV9faW5wdXQtYnRuJylcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fcG9wdXAnKVxyXG5jb25zdCBwb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19wb3B1cC1jbG9zZScpXHJcbmNvbnN0IHNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbicpXHJcbmNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpXHJcbmNvbnN0IGhlYWRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J0bi1saW5rJylcclxuY29uc3QgaGVhZGVyQXJyb3dEb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYXJyb3ctbGluaycpXHJcbmNvbnN0IGNvb2tpZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZS1wb3B1cCcpXHJcbmNvbnN0IGNvb2tpZUFjY2VwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWUtcG9wdXBfX2J0bicpXHJcbmNvbnN0IGdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeV9faW1nLWNvbnRhaW5lcicpXHJcbmNvbnN0IGltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5nYWxsZXJ5X19waG90bycpXHJcbmNvbnN0IGZ1bGxzY3JlZW5JbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeV9fcGhvdG8tZnVsbHNjcmVlbicpXHJcbmNvbnN0IGhlYWRlckxpbmtzID0gW2hlYWRlckJ0biwgaGVhZGVyQXJyb3dEb3duXVxyXG5jb25zdCBzZWN0aW9uc0FuZEhlYWRlciA9IFtoZWFkZXIsIC4uLnNlY3Rpb25zXVxyXG5jb25zdCBuYXZiYXJIZWlnaHQgPSBuYXZCYXIuY2xpZW50SGVpZ2h0XHJcbmNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XHJcbmNvbnN0IHNjcm9sbFRocmVzaG9sZCA9IDIwMFxyXG5jb25zdCByb290TWFyZ2luQm90dG9tQ29ycmVjdGlvbiA9IDExMFxyXG5jb25zdCByb290TWFyZ2luVG9wQ29ycmVjdGlvbiA9IDEwXHJcbmNvbnN0IHJvb3RNYXJnaW5Cb3R0b20gPSBgJHstKHZpZXdwb3J0SGVpZ2h0IC0gcm9vdE1hcmdpbkJvdHRvbUNvcnJlY3Rpb24pfXB4YFxyXG5jb25zdCByb290TWFyZ2luVG9wID0gYCR7LShuYXZiYXJIZWlnaHQgKyByb290TWFyZ2luVG9wQ29ycmVjdGlvbil9cHhgXHJcblxyXG5sZXQgY29ycmVzcG9uZGluZ0Z1bGxzY3JlZW5MaVxyXG5cclxub3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHJcbmVtYWlsanMuaW5pdCgnbGdrejZDUGdoNkdiRXVDb08nKVxyXG5sZXQgZW1haWxWYWxpZCA9IDBcclxuXHJcbmNvbnN0IHZhbGlkYXRlRW1haWwgPSBlbWFpbCA9PiB7XHJcblx0Y29uc3QgZW1haWxSZWcgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsNH0pKSQvZ2ltXHJcblx0aWYgKGVtYWlsUmVnLnRlc3QoZW1haWwudmFsdWUpICYmIG5hbWVGb3JtLnZhbHVlICE9ICcnICYmIG1zZ0Zvcm0udmFsdWUgIT0gJycpIHtcclxuXHRcdHJlbW92ZUVycm9yKGVtYWlsKVxyXG5cdFx0Y29udGFjdEZvcm0uY29udGFjdF9udW1iZXIudmFsdWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDApXHJcblx0XHRlbWFpbGpzXHJcblx0XHRcdC5zZW5kRm9ybSgnc2VydmljZV80cmFicTdlJywgJ3RlbXBsYXRlXzZ3dGo3bTMnLCBjb250YWN0Rm9ybSlcclxuXHRcdFx0LnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdTVUNDRVNTIScpXHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaChlcnJvciA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ0ZBSUxFRC4uLicsIGVycm9yKVxyXG5cdFx0XHR9KVxyXG5cdFx0ZW1haWxWYWxpZCA9IDFcclxuXHR9IGVsc2UgaWYgKGVtYWlsLnZhbHVlID09PSAnJykgc2hvd0Vycm9yKGVtYWlsLCBlbWFpbC5wbGFjZWhvbGRlcilcclxuXHRlbHNlIGlmIChlbWFpbFJlZy50ZXN0KGVtYWlsLnZhbHVlKSAmIChuYW1lRm9ybS52YWx1ZSAhPSAnJyB8fCBtc2dGb3JtLnZhbHVlICE9ICcnKSkgcmVtb3ZlRXJyb3IoZW1haWwpXHJcblx0ZWxzZSBpZiAoZW1haWxSZWcudGVzdChlbWFpbC52YWx1ZSkgPT09IGZhbHNlKSB7XHJcblx0XHRzaG93RXJyb3IoZW1haWwsICdFbWFpbCBqZXN0IG5pZXByYXdpZMWCb3d5IScpXHJcblx0XHRlbWFpbFZhbGlkID0gMFxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxyXG5cdGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhclxyXG59XHJcblxyXG5jb25zdCBjbG9zZU92ZXJsYXkgPSAoKSA9PiB7XHJcblx0aGFuZGxlT3ZlcmxheSgpXHJcblx0bmF2QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXHJcblx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fbGlzdC0tYWN0aXZlJylcclxuXHRibG9ja1Njcm9sbC5jbGFzc0xpc3QucmVtb3ZlKCdibG9jay1zY3JvbGwnKVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVPdmVybGF5ID0gKCkgPT4ge1xyXG5cdGlmIChvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPT0gJ2hpZGRlbicpIHtcclxuXHRcdG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdH0sIDEpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xyXG5cdFx0fSwgMzAwKVxyXG5cdFx0b3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG5cdG5hdkJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKVxyXG5cdG5hdi5jbGFzc0xpc3QudG9nZ2xlKCduYXZfX2xpc3QtLWFjdGl2ZScpXHJcblx0aGFuZGxlT3ZlcmxheSgpXHJcblx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LnRvZ2dsZSgnYmxvY2stc2Nyb2xsJylcclxufVxyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdC1mb3JtX19lcnJvci10ZXh0JylcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZ1xyXG59XHJcblxyXG5jb25zdCByZW1vdmVFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFjdC1mb3JtX19ib3gnKVxyXG5cdGxldCBlcnJvckNvdW50ID0gMFxyXG5cclxuXHRhbGxJbnB1dHMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykgPyBlcnJvckNvdW50KysgOiBmYWxzZVxyXG5cdH0pXHJcblxyXG5cdGlmIChlcnJvckNvdW50ID09PSAwICYmIGVtYWlsVmFsaWQgPT09IDEpIHtcclxuXHRcdGJsb2NrU2Nyb2xsLmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLXNjcm9sbCcpXHJcblx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKCdzaG93LXBvcHVwJylcclxuXHRcdG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdH0sIDEpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjbGVhcklucHV0cyA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLnZhbHVlID0gJydcclxuXHRcdHJlbW92ZUVycm9yKGVsKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IHBvcHVwQnRuUmVtb3ZlT3ZlcmxheSA9IGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cdGNsZWFySW5wdXRzKFttc2dGb3JtLCBuYW1lRm9ybSwgZW1haWxGb3JtXSlcclxuXHRibG9ja1Njcm9sbC5jbGFzc0xpc3QucmVtb3ZlKCdibG9jay1zY3JvbGwnKVxyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0b3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHR9LCAzMDApXHJcblx0b3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctcG9wdXAnKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Zvcm0gPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC52YWx1ZSA9PT0gJycgPyBzaG93RXJyb3IoZWwsIGVsLnBsYWNlaG9sZGVyKSA6IHJlbW92ZUVycm9yKGVsKVxyXG5cdH0pXHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcblx0YnRuRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRjaGVja0Zvcm0oW21zZ0Zvcm0sIG5hbWVGb3JtLCBlbWFpbEZvcm1dKVxyXG5cdFx0dmFsaWRhdGVFbWFpbChlbWFpbEZvcm0pXHJcblx0XHRjaGVja0Vycm9ycygpXHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgbmF2QmFyT3BhY2l0eSA9ICgpID0+XHJcblx0d2luZG93LnNjcm9sbFkgPj0gc2Nyb2xsVGhyZXNob2xkID8gbmF2QmFyLmNsYXNzTGlzdC5hZGQoJ25hdl9fb3BhY2l0eScpIDogbmF2QmFyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fb3BhY2l0eScpXHJcblxyXG5jb25zdCBhbGluZ21lbnRUb05hdkJhciA9IGxpbmsgPT4ge1xyXG5cdGNvbnN0IHRhcmdldElkID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdWJzdHJpbmcoMSlcclxuXHRjb25zdCB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SWQpXHJcblxyXG5cdGlmICh0YXJnZXRFbGVtZW50KSB7XHJcblx0XHRjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRhcmdldEVsZW1lbnQub2Zmc2V0VG9wIC0gbmF2YmFySGVpZ2h0XHJcblx0XHR3aW5kb3cuc2Nyb2xsVG8oe1xyXG5cdFx0XHR0b3A6IHRhcmdldFBvc2l0aW9uLFxyXG5cdFx0fSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrQ29va2llcyA9ICgpID0+IHtcclxuXHRjb25zdCBjb29raWVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nvb2tpZXMnKVxyXG5cdGNvb2tpZXMgPyBjb29raWVQb3B1cC5jbGFzc0xpc3QuYWRkKCdjbG9zZS1wb3B1cCcpIDogZmFsc2VcclxufVxyXG5cclxuY29uc3QgY29va2llUG9wdXBDbG9zZSA9IGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb29raWVzJywgJ3RydWUnKVxyXG5cdGNvb2tpZVBvcHVwLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlLXBvcHVwJylcclxufVxyXG5jb25zdCBocmVmVG9VUkwgPSBjb3JyZXNwb25kaW5nTGluayA9PiB7XHJcblx0Y29uc3QgaHJlZiA9IGNvcnJlc3BvbmRpbmdMaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpXHJcblx0Y29uc3QgY3VycmVudFVSTCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMF1cclxuXHRjb25zdCBuZXdVUkwgPSBgJHtjdXJyZW50VVJMfSR7aHJlZn1gXHJcblx0aGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCBuZXdVUkwpXHJcbn1cclxuXHJcbmltYWdlcy5mb3JFYWNoKGltYWdlID0+IHtcclxuXHRpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdGNvbnN0IGNsaWNrZWRTcmMgPSBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpXHJcblxyXG5cdFx0ZnVsbHNjcmVlbkltYWdlcy5mb3JFYWNoKGZ1bGxzY3JlZW5JbWcgPT4ge1xyXG5cdFx0XHRjb25zdCBmdWxsc2NyZWVuU3JjID0gZnVsbHNjcmVlbkltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpXHJcblx0XHRcdGNvbnN0IHBhcmVudExpID0gZnVsbHNjcmVlbkltZy5wYXJlbnRFbGVtZW50XHJcblxyXG5cdFx0XHRpZiAoY2xpY2tlZFNyYyA9PT0gZnVsbHNjcmVlblNyYykge1xyXG5cdFx0XHRcdHBhcmVudExpLmNsYXNzTGlzdC50b2dnbGUoJ2FuaW1hdGlvbicpXHJcblx0XHRcdFx0Y29ycmVzcG9uZGluZ0Z1bGxzY3JlZW5MaSA9IHBhcmVudExpXHJcblx0XHRcdFx0aGFuZGxlT3ZlcmxheSgpXHJcblx0XHRcdFx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LmFkZCgnYmxvY2stc2Nyb2xsJylcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwYXJlbnRMaS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24nKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH0pXHJcbn0pXHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpXHJcbmNoZWNrQ29va2llcygpXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBuYXZCYXJPcGFjaXR5KVxyXG5uYXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRmdWxsc2NyZWVuSW1hZ2VzLmZvckVhY2goaW1nID0+IHtcclxuXHRcdGlmIChlLnRhcmdldCA9PT0gaW1nIHx8IChlLnRhcmdldCA9PT0gb3ZlcmxheSAmJiAhcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LXBvcHVwJykpKSB7XHJcblx0XHRcdGNsb3NlT3ZlcmxheSgpXHJcblx0XHRcdGNvcnJlc3BvbmRpbmdGdWxsc2NyZWVuTGkuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0aW9uJylcclxuXHRcdH1cclxuXHR9KVxyXG59KVxyXG5cclxucG9wdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwb3B1cEJ0blJlbW92ZU92ZXJsYXkpXHJcbmxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcblx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRuYXZCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSA/IGNsb3NlT3ZlcmxheSgpIDogZmFsc2VcclxuXHRcdGFsaW5nbWVudFRvTmF2QmFyKGxpbmspXHJcblx0fSlcclxufSlcclxuXHJcbmhlYWRlckxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcblx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRhbGluZ21lbnRUb05hdkJhcihsaW5rKVxyXG5cdH0pXHJcbn0pXHJcblxyXG5jb29raWVBY2NlcHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb29raWVQb3B1cENsb3NlKVxyXG5cclxuY29uc3Qgb3B0aW9ucyA9IHtcclxuXHRyb290OiBudWxsLFxyXG5cdHJvb3RNYXJnaW46IGAke3Jvb3RNYXJnaW5Ub3B9IDBweCAke3Jvb3RNYXJnaW5Cb3R0b219IDBweGAsXHJcblx0dGhyZXNob2xkOiAwLFxyXG59XHJcblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcclxuXHRlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG5cdFx0Y29uc3QgaWQgPSBlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKCdpZCcpXHJcblx0XHRjb25zdCBjb3JyZXNwb25kaW5nTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGFbaHJlZj1cIiMke2lkfVwiXWApXHJcblx0XHRjb25zdCBoYW1idXJnZXJTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKSlcclxuXHRcdGNvbnN0IHN2Z05hdkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3ZnLWljb24nKVxyXG5cclxuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG5cdFx0XHRpZiAoaGFtYnVyZ2VyU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZGlzcGxheScpID09PSAnbm9uZScpIHtcclxuXHRcdFx0XHRocmVmVG9VUkwoY29ycmVzcG9uZGluZ0xpbmspXHJcblx0XHRcdFx0Y29ycmVzcG9uZGluZ0xpbmsuc3R5bGUuY29sb3IgPSAnIzYwNGEzNCdcclxuXHRcdFx0XHRpZCA9PT0gJ2hvbWUnID8gc3ZnTmF2SWNvbi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnIzYwNGEzNCcpIDogc3ZnTmF2SWNvbi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnIzAwMDAwMCcpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aHJlZlRvVVJMKGNvcnJlc3BvbmRpbmdMaW5rKVxyXG5cdFx0XHRcdGNvcnJlc3BvbmRpbmdMaW5rLnN0eWxlLmNvbG9yID0gJyNmZmE5NjMnXHJcblx0XHRcdFx0aWQgPT09ICdob21lJyA/IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNmZmE5NjMnKSA6IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNmZmYnKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb3JyZXNwb25kaW5nTGluay5zdHlsZS5jb2xvciA9ICcnXHJcblx0XHR9XHJcblx0fSlcclxufSwgb3B0aW9ucylcclxuXHJcbnNlY3Rpb25zQW5kSGVhZGVyLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0b2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKVxyXG59KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHRjb25zdCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxyXG5cdGNvbnN0IHNlY3Rpb25JZCA9IHVybC5zcGxpdCgnIycpWzFdIC8vIFBvYnJhbmllIGZyYWdtZW50dSBhZHJlc3UgVVJMXHJcblxyXG5cdGlmIChzZWN0aW9uSWQpIHtcclxuXHRcdGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uSWQpXHJcblx0XHRpZiAodGFyZ2V0RWxlbWVudCkge1xyXG5cdFx0XHRjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRhcmdldEVsZW1lbnQub2Zmc2V0VG9wIC0gbmF2YmFySGVpZ2h0XHJcblx0XHRcdHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogdGFyZ2V0UG9zaXRpb24gfSlcclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcblxyXG4iXX0=
