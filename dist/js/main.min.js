"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,o){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,o):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,o):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,r=new Array(o);t<o;t++)r[t]=e[t];return r}var correspondingFullscreenLi,navBtn=document.querySelector(".hamburger"),navBar=document.querySelector(".nav"),nav=document.querySelector(".nav__list"),overlay=document.querySelector(".overlay"),links=document.querySelectorAll(".nav__item"),blockScroll=document.body,footerYear=document.querySelector(".footer__year"),contactForm=document.querySelector("#contact-form"),nameForm=document.querySelector("#name"),emailForm=document.querySelector("#email"),msgForm=document.querySelector("#msg"),btnForm=document.querySelector(".contact-form__input-btn"),popup=document.querySelector(".form__popup"),popupBtn=document.querySelector(".form__popup-close"),sections=document.querySelectorAll("section"),header=document.querySelector("header"),headerBtn=document.querySelector(".header__btn-link"),headerArrowDown=document.querySelector(".header__arrow-link"),cookiePopup=document.querySelector(".cookie-popup"),cookieAccept=document.querySelector(".cookie-popup__btn"),gallery=document.querySelectorAll(".gallery__img-container"),images=document.querySelectorAll(".gallery__photo"),fullscreenImages=document.querySelectorAll(".gallery__photo-fullscreen"),headerLinks=[headerBtn,headerArrowDown],sectionsAndHeader=[header].concat(_toConsumableArray(sections)),navbarHeight=navBar.clientHeight,viewportHeight=window.innerHeight,scrollThreshold=200,rootMarginBottomCorrection=110,rootMarginTopCorrection=10,rootMarginBottom="".concat(-(viewportHeight-rootMarginBottomCorrection),"px"),rootMarginTop="".concat(-(navbarHeight+rootMarginTopCorrection),"px"),cardImg=document.querySelectorAll(".about-us__card-img"),cardInfo=document.querySelectorAll(".about-us__card-info"),emailValid=(overlay.style.visibility="hidden",emailjs.init("lgkz6CPgh6GbEuCoO"),0),validateEmail=function(e){var o=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,4}))$/gim;o.test(e.value)&&""!=nameForm.value&&""!=msgForm.value?(removeError(e),contactForm.contact_number.value=Math.floor(1e5*Math.random()),emailjs.sendForm("service_4rabq7e","template_6wtj7m3",contactForm).then(function(){console.log("SUCCESS!")}).catch(function(e){console.log("FAILED...",e)}),emailValid=1):""===e.value?showError(e,e.placeholder):o.test(e.value)&(""!=nameForm.value||""!=msgForm.value)?removeError(e):!1===o.test(e.value)&&(showError(e,"Email jest nieprawidÅ‚owy!"),emailValid=0)},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},closeOverlay=function(){handleOverlay(),navBtn.classList.remove("is-active"),nav.classList.remove("nav__list--active"),blockScroll.classList.remove("block-scroll")},handleOverlay=function(){"hidden"==overlay.style.visibility?(overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1)):(setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"))},handleNav=function(){navBtn.classList.toggle("is-active"),nav.classList.toggle("nav__list--active"),handleOverlay(),blockScroll.classList.toggle("block-scroll")},showError=function(e,o){var e=e.parentElement,t=e.querySelector(".contact-form__error-text");e.classList.add("error"),t.textContent=o},removeError=function(e){e.parentElement.classList.remove("error")},checkErrors=function(){var e=document.querySelectorAll(".contact-form__box"),o=0;e.forEach(function(e){e.classList.contains("error")&&o++}),0===o&&1===emailValid&&(blockScroll.classList.add("block-scroll"),popup.classList.add("show-popup"),overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1))},clearInputs=function(e){e.forEach(function(e){e.value="",removeError(e)})},popupBtnRemoveOverlay=function(e){e.preventDefault(),clearInputs([msgForm,nameForm,emailForm]),blockScroll.classList.remove("block-scroll"),setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"),popup.classList.remove("show-popup")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):removeError(e)})},navBarOpacity=(window.onload=function(){btnForm.addEventListener("click",function(e){e.preventDefault(),checkForm([msgForm,nameForm,emailForm]),validateEmail(emailForm),checkErrors()})},function(){return window.scrollY>=scrollThreshold?navBar.classList.add("nav__opacity"):navBar.classList.remove("nav__opacity")}),alingmentToNavBar=function(e){var e=e.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))},checkCookies=function(){localStorage.getItem("cookies")&&cookiePopup.classList.add("close-popup")},cookiePopupClose=function(e){e.preventDefault(),localStorage.setItem("cookies","true"),cookiePopup.classList.add("close-popup")},hrefToURL=function(e){var e=e.getAttribute("href"),o=window.location.href.split("#")[0],o="".concat(o).concat(e);history.pushState({},"",o)},cardsSizes=function(){var a=document.querySelectorAll(".about-us__card-img"),l=document.querySelectorAll(".about-us__card-info"),c=document.querySelectorAll(".about-us__card");l.forEach(function(e,o){var e=window.getComputedStyle(e).height,t=window.getComputedStyle(a[o]).height,r=a[o],n=c[o],o=l[o];console.log(t),console.log(e),e>r.style.height?(r.style.height=e,n.style.height=e):e<t&&(r.style.height=t,n.style.height=t,o.style.height=t)})},options=(images.forEach(function(e){e.addEventListener("click",function(){var t=e.getAttribute("src");fullscreenImages.forEach(function(e){var o=e.getAttribute("src"),e=e.parentElement;t===o?(e.classList.toggle("animation"),correspondingFullscreenLi=e,handleOverlay(),blockScroll.classList.add("block-scroll")):e.classList.remove("animation")})})}),handleCurrentYear(),checkCookies(),cardsSizes(),window.addEventListener("scroll",navBarOpacity),navBtn.addEventListener("click",handleNav),window.addEventListener("click",function(o){fullscreenImages.forEach(function(e){o.target!==e&&"Escape"!==o.key&&(o.target!==overlay||popup.classList.contains("show-popup"))||(closeOverlay(),correspondingFullscreenLi.classList.remove("animation"))})}),window.addEventListener("keydown",function(e){"Escape"===e.key&&correspondingFullscreenLi.classList.contains("animation")&&(closeOverlay(),correspondingFullscreenLi.classList.remove("animation"))}),popupBtn.addEventListener("click",popupBtnRemoveOverlay),links.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),navBtn.classList.contains("is-active")&&closeOverlay(),alingmentToNavBar(o)})}),headerLinks.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),alingmentToNavBar(o)})}),cookieAccept.addEventListener("click",cookiePopupClose),{root:null,rootMargin:"".concat(rootMarginTop," 0px ").concat(rootMarginBottom," 0px"),threshold:0}),observer=new IntersectionObserver(function(e){e.forEach(function(e){var o=e.target.getAttribute("id"),t=document.querySelector('a[href="#'.concat(o,'"]')),r=window.getComputedStyle(document.querySelector(".hamburger")),n=document.querySelector(".svg-icon");e.isIntersecting?"none"===r.getPropertyValue("display")?(hrefToURL(t),t.style.color="#604a34","home"===o?n.setAttribute("fill","#604a34"):n.setAttribute("fill","#000000")):(hrefToURL(t),t.style.color="#ffa963","home"===o?n.setAttribute("fill","#ffa963"):n.setAttribute("fill","#fff")):t.style.color=""})},options);sectionsAndHeader.forEach(function(e){observer.observe(e)}),document.addEventListener("DOMContentLoaded",function(){var e=window.location.href.split("#")[1];e&&(e=document.getElementById(e))&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2Nyb2xsVGhyZXNob2xkIiwibmF2QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2QmFyIiwibmF2Iiwib3ZlcmxheSIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImJsb2NrU2Nyb2xsIiwiYm9keSIsImZvb3RlclllYXIiLCJjb250YWN0Rm9ybSIsIm5hbWVGb3JtIiwiZW1haWxGb3JtIiwibXNnRm9ybSIsImJ0bkZvcm0iLCJwb3B1cCIsInBvcHVwQnRuIiwic2VjdGlvbnMiLCJoZWFkZXIiLCJoZWFkZXJCdG4iLCJoZWFkZXJBcnJvd0Rvd24iLCJjb29raWVQb3B1cCIsImNvb2tpZUFjY2VwdCIsImdhbGxlcnkiLCJpbWFnZXMiLCJmdWxsc2NyZWVuSW1hZ2VzIiwiY29uY2F0IiwiaGVhZGVyTGlua3MiLCJzZWN0aW9uc0FuZEhlYWRlciIsIl90b0NvbnN1bWFibGVBcnJheSIsIm5hdmJhckhlaWdodCIsImNsaWVudEhlaWdodCIsImNhcmRJbWciLCJyb290TWFyZ2luVG9wQ29ycmVjdGlvbiIsImVtYWlsanMiLCJyb290TWFyZ2luVG9wIiwiY29ycmVzcG9uZGluZ0Z1bGxzY3JlZW5MaSIsImVtYWlsUmVnIiwiZW1haWxWYWxpZCIsInRlc3QiLCJlbWFpbCIsInZhbHVlIiwicmVtb3ZlRXJyb3IiLCJ2YWxpZGF0ZUVtYWlsIiwiY29udGFjdF9udW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZW5kRm9ybSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNob3dFcnJvciIsInBsYWNlaG9sZGVyIiwiaGFuZGxlQ3VycmVudFllYXIiLCJjbG9zZU92ZXJsYXkiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJoYW5kbGVPdmVybGF5IiwieWVhciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsInNldFRpbWVvdXQiLCJhZGQiLCJoYW5kbGVOYXYiLCJ0b2dnbGUiLCJmb3JtQm94IiwiaW5wdXQiLCJwYXJlbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJlcnJvck1zZyIsImNoZWNrRXJyb3JzIiwiYWxsSW5wdXRzIiwiY29udGFpbnMiLCJlcnJvckNvdW50IiwiZm9yRWFjaCIsImVsIiwicG9wdXBCdG5SZW1vdmVPdmVybGF5IiwicHJldmVudERlZmF1bHQiLCJjbGVhcklucHV0cyIsImUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tGb3JtIiwic2Nyb2xsWSIsImFsaW5nbWVudFRvTmF2QmFyIiwibGluayIsIm5hdkJhck9wYWNpdHkiLCJvbmxvYWQiLCJ0YXJnZXRQb3NpdGlvbiIsImNvb2tpZVBvcHVwQ2xvc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRBdHRyaWJ1dGUiLCJzdWJzdHJpbmciLCJ0YXJnZXRFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0YXJnZXRJZCIsImN1cnJlbnRVUkwiLCJvZmZzZXRUb3AiLCJuZXdVUkwiLCJoaXN0b3J5IiwiY2FyZHMiLCJjYXJkSW5mbyIsImluZm9IZWlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwiaW5kZXgiLCJjYXJkSW5mb3MiLCJpbWdIZWlnaHQiLCJjYXJkIiwibG9jYXRpb24iLCJzcGxpdCIsImhlaWdodCIsImNhcmRzU2l6ZXMiLCJjYXJkSW1ncyIsImltYWdlIiwiZnVsbHNjcmVlblNyYyIsImZ1bGxzY3JlZW5JbWciLCJjbGlja2VkU3JjIiwicGFyZW50TGkiLCJjaGVja0Nvb2tpZXMiLCJvcHRpb25zIiwiaW1nIiwicm9vdCIsInRocmVzaG9sZCIsImVudHJpZXMiLCJlbnRyeSIsImtleSIsImhhbWJ1cmdlclN0eWxlIiwiY29ycmVzcG9uZGluZ0xpbmsiLCJjb2xvciIsInN2Z05hdkljb24iLCJvYnNlcnZlciIsImhyZWYiLCJzZWN0aW9uSWQiLCJyb290TWFyZ2luIiwiaWQiLCJ0YXJnZXQiLCJpc0ludGVyc2VjdGluZyIsImdldFByb3BlcnR5VmFsdWUiLCJocmVmVG9VUkwiLCJzZXRB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T0FBUSxTQUFTLEVBQUlWLEVBQVdVLGFBQWEsT0FBUSxTQUFTLElBRXRHRCxVQUFVWCxDQUFpQixFQUMzQkEsRUFBa0JwRSxNQUFNcUUsTUFBUSxVQUN6QixTQUFQTSxFQUFnQkwsRUFBV1UsYUFBYSxPQUFRLFNBQVMsRUFBSVYsRUFBV1UsYUFBYSxPQUFRLE1BQU0sR0FHcEdaLEVBQWtCcEUsTUFBTXFFLE1BQVEsRUFFbEMsQ0FBQyxDQUNGLEVBQUdULE9BQU8sRUFFVjlGLGtCQUFrQmlELFFBQVEsU0FBQWtFLEdBQ3pCVixTQUFTVyxRQUFRRCxDQUFPLENBQ3pCLENBQUMsRUFFRC9JLFNBQVNvRixpQkFBaUIsbUJBQW9CLFdBQzdDLElBQ01tRCxFQURNcEQsT0FBTzRCLFNBQVN1QixLQUNOdEIsTUFBTSxHQUFHLEVBQUUsR0FFN0J1QixJQUNHdkMsRUFBZ0JoRyxTQUFTaUcsZUFBZXNDLENBQVMsS0FFaEQ1QyxFQUFpQkssRUFBY0ksVUFBWXRFLGFBQ2pEcUQsT0FBTzhELFNBQVMsQ0FBRUMsSUFBS3ZELENBQWUsQ0FBQyxFQUcxQyxDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbmF2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpXHJcbmNvbnN0IG5hdkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKVxyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19saXN0JylcclxuY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdmVybGF5JylcclxuY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtJylcclxuY29uc3QgYmxvY2tTY3JvbGwgPSBkb2N1bWVudC5ib2R5XHJcbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX195ZWFyJylcclxuY29uc3QgY29udGFjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGFjdC1mb3JtJylcclxuY29uc3QgbmFtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpXHJcbmNvbnN0IGVtYWlsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbCcpXHJcbmNvbnN0IG1zZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXNnJylcclxuY29uc3QgYnRuRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0LWZvcm1fX2lucHV0LWJ0bicpXHJcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3BvcHVwJylcclxuY29uc3QgcG9wdXBCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fcG9wdXAtY2xvc2UnKVxyXG5jb25zdCBzZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24nKVxyXG5jb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKVxyXG5jb25zdCBoZWFkZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idG4tbGluaycpXHJcbmNvbnN0IGhlYWRlckFycm93RG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2Fycm93LWxpbmsnKVxyXG5jb25zdCBjb29raWVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb29raWUtcG9wdXAnKVxyXG5jb25zdCBjb29raWVBY2NlcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llLXBvcHVwX19idG4nKVxyXG5jb25zdCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfX2ltZy1jb250YWluZXInKVxyXG5jb25zdCBpbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeV9fcGhvdG8nKVxyXG5jb25zdCBmdWxsc2NyZWVuSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfX3Bob3RvLWZ1bGxzY3JlZW4nKVxyXG5jb25zdCBoZWFkZXJMaW5rcyA9IFtoZWFkZXJCdG4sIGhlYWRlckFycm93RG93bl1cclxuY29uc3Qgc2VjdGlvbnNBbmRIZWFkZXIgPSBbaGVhZGVyLCAuLi5zZWN0aW9uc11cclxuY29uc3QgbmF2YmFySGVpZ2h0ID0gbmF2QmFyLmNsaWVudEhlaWdodFxyXG5jb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxyXG5jb25zdCBzY3JvbGxUaHJlc2hvbGQgPSAyMDBcclxuY29uc3Qgcm9vdE1hcmdpbkJvdHRvbUNvcnJlY3Rpb24gPSAxMTBcclxuY29uc3Qgcm9vdE1hcmdpblRvcENvcnJlY3Rpb24gPSAxMFxyXG5jb25zdCByb290TWFyZ2luQm90dG9tID0gYCR7LSh2aWV3cG9ydEhlaWdodCAtIHJvb3RNYXJnaW5Cb3R0b21Db3JyZWN0aW9uKX1weGBcclxuY29uc3Qgcm9vdE1hcmdpblRvcCA9IGAkey0obmF2YmFySGVpZ2h0ICsgcm9vdE1hcmdpblRvcENvcnJlY3Rpb24pfXB4YFxyXG5jb25zdCBjYXJkSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0LXVzX19jYXJkLWltZycpXHJcbmNvbnN0IGNhcmRJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0LXVzX19jYXJkLWluZm8nKVxyXG5cclxubGV0IGNvcnJlc3BvbmRpbmdGdWxsc2NyZWVuTGlcclxuXHJcbm92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXHJcblxyXG5lbWFpbGpzLmluaXQoJ2xna3o2Q1BnaDZHYkV1Q29PJylcclxubGV0IGVtYWlsVmFsaWQgPSAwXHJcblxyXG5jb25zdCB2YWxpZGF0ZUVtYWlsID0gZW1haWwgPT4ge1xyXG5cdGNvbnN0IGVtYWlsUmVnID1cclxuXHRcdC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLDR9KSkkL2dpbVxyXG5cdGlmIChlbWFpbFJlZy50ZXN0KGVtYWlsLnZhbHVlKSAmJiBuYW1lRm9ybS52YWx1ZSAhPSAnJyAmJiBtc2dGb3JtLnZhbHVlICE9ICcnKSB7XHJcblx0XHRyZW1vdmVFcnJvcihlbWFpbClcclxuXHRcdGNvbnRhY3RGb3JtLmNvbnRhY3RfbnVtYmVyLnZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwKVxyXG5cdFx0ZW1haWxqc1xyXG5cdFx0XHQuc2VuZEZvcm0oJ3NlcnZpY2VfNHJhYnE3ZScsICd0ZW1wbGF0ZV82d3RqN20zJywgY29udGFjdEZvcm0pXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnU1VDQ0VTUyEnKVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuY2F0Y2goZXJyb3IgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdGQUlMRUQuLi4nLCBlcnJvcilcclxuXHRcdFx0fSlcclxuXHRcdGVtYWlsVmFsaWQgPSAxXHJcblx0fSBlbHNlIGlmIChlbWFpbC52YWx1ZSA9PT0gJycpIHNob3dFcnJvcihlbWFpbCwgZW1haWwucGxhY2Vob2xkZXIpXHJcblx0ZWxzZSBpZiAoZW1haWxSZWcudGVzdChlbWFpbC52YWx1ZSkgJiAobmFtZUZvcm0udmFsdWUgIT0gJycgfHwgbXNnRm9ybS52YWx1ZSAhPSAnJykpIHJlbW92ZUVycm9yKGVtYWlsKVxyXG5cdGVsc2UgaWYgKGVtYWlsUmVnLnRlc3QoZW1haWwudmFsdWUpID09PSBmYWxzZSkge1xyXG5cdFx0c2hvd0Vycm9yKGVtYWlsLCAnRW1haWwgamVzdCBuaWVwcmF3aWTFgm93eSEnKVxyXG5cdFx0ZW1haWxWYWxpZCA9IDBcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUN1cnJlbnRZZWFyID0gKCkgPT4ge1xyXG5cdGNvbnN0IHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKClcclxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXJcclxufVxyXG5cclxuY29uc3QgY2xvc2VPdmVybGF5ID0gKCkgPT4ge1xyXG5cdGhhbmRsZU92ZXJsYXkoKVxyXG5cdG5hdkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxyXG5cdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXZfX2xpc3QtLWFjdGl2ZScpXHJcblx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LnJlbW92ZSgnYmxvY2stc2Nyb2xsJylcclxufVxyXG5cclxuY29uc3QgaGFuZGxlT3ZlcmxheSA9ICgpID0+IHtcclxuXHRpZiAob3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID09ICdoaWRkZW4nKSB7XHJcblx0XHRvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0XHR9LCAxKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0b3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHRcdH0sIDMwMClcclxuXHRcdG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuXHRuYXZCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJylcclxuXHRuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2X19saXN0LS1hY3RpdmUnKVxyXG5cdGhhbmRsZU92ZXJsYXkoKVxyXG5cdGJsb2NrU2Nyb2xsLmNsYXNzTGlzdC50b2dnbGUoJ2Jsb2NrLXNjcm9sbCcpXHJcbn1cclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtZm9ybV9fZXJyb3ItdGV4dCcpXHJcblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2dcclxufVxyXG5cclxuY29uc3QgcmVtb3ZlRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhY3QtZm9ybV9fYm94JylcclxuXHRsZXQgZXJyb3JDb3VudCA9IDBcclxuXHJcblx0YWxsSW5wdXRzLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0ZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpID8gZXJyb3JDb3VudCsrIDogZmFsc2VcclxuXHR9KVxyXG5cclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCAmJiBlbWFpbFZhbGlkID09PSAxKSB7XHJcblx0XHRibG9ja1Njcm9sbC5jbGFzc0xpc3QuYWRkKCdibG9jay1zY3JvbGwnKVxyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdy1wb3B1cCcpXHJcblx0XHRvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0XHR9LCAxKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2xlYXJJbnB1dHMgPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC52YWx1ZSA9ICcnXHJcblx0XHRyZW1vdmVFcnJvcihlbClcclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBwb3B1cEJ0blJlbW92ZU92ZXJsYXkgPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRjbGVhcklucHV0cyhbbXNnRm9ybSwgbmFtZUZvcm0sIGVtYWlsRm9ybV0pXHJcblx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LnJlbW92ZSgnYmxvY2stc2Nyb2xsJylcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXHJcblx0fSwgMzAwKVxyXG5cdG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXBvcHVwJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tGb3JtID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0ZWwudmFsdWUgPT09ICcnID8gc2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcikgOiByZW1vdmVFcnJvcihlbClcclxuXHR9KVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdGJ0bkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0Y2hlY2tGb3JtKFttc2dGb3JtLCBuYW1lRm9ybSwgZW1haWxGb3JtXSlcclxuXHRcdHZhbGlkYXRlRW1haWwoZW1haWxGb3JtKVxyXG5cdFx0Y2hlY2tFcnJvcnMoKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IG5hdkJhck9wYWNpdHkgPSAoKSA9PlxyXG5cdHdpbmRvdy5zY3JvbGxZID49IHNjcm9sbFRocmVzaG9sZCA/IG5hdkJhci5jbGFzc0xpc3QuYWRkKCduYXZfX29wYWNpdHknKSA6IG5hdkJhci5jbGFzc0xpc3QucmVtb3ZlKCduYXZfX29wYWNpdHknKVxyXG5cclxuY29uc3QgYWxpbmdtZW50VG9OYXZCYXIgPSBsaW5rID0+IHtcclxuXHRjb25zdCB0YXJnZXRJZCA9IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykuc3Vic3RyaW5nKDEpXHJcblx0Y29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElkKVxyXG5cclxuXHRpZiAodGFyZ2V0RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0YXJnZXRFbGVtZW50Lm9mZnNldFRvcCAtIG5hdmJhckhlaWdodFxyXG5cdFx0d2luZG93LnNjcm9sbFRvKHtcclxuXHRcdFx0dG9wOiB0YXJnZXRQb3NpdGlvbixcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Nvb2tpZXMgPSAoKSA9PiB7XHJcblx0Y29uc3QgY29va2llcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb29raWVzJylcclxuXHRjb29raWVzID8gY29va2llUG9wdXAuY2xhc3NMaXN0LmFkZCgnY2xvc2UtcG9wdXAnKSA6IGZhbHNlXHJcbn1cclxuXHJcbmNvbnN0IGNvb2tpZVBvcHVwQ2xvc2UgPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29va2llcycsICd0cnVlJylcclxuXHRjb29raWVQb3B1cC5jbGFzc0xpc3QuYWRkKCdjbG9zZS1wb3B1cCcpXHJcbn1cclxuY29uc3QgaHJlZlRvVVJMID0gY29ycmVzcG9uZGluZ0xpbmsgPT4ge1xyXG5cdGNvbnN0IGhyZWYgPSBjb3JyZXNwb25kaW5nTGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxyXG5cdGNvbnN0IGN1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdXHJcblx0Y29uc3QgbmV3VVJMID0gYCR7Y3VycmVudFVSTH0ke2hyZWZ9YFxyXG5cdGhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgbmV3VVJMKVxyXG59XHJcblxyXG5jb25zdCBjYXJkc1NpemVzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNhcmRJbWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0LXVzX19jYXJkLWltZycpXHJcblx0Y29uc3QgY2FyZEluZm9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0LXVzX19jYXJkLWluZm8nKVxyXG5cdGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0LXVzX19jYXJkJylcclxuXHJcblx0Y2FyZEluZm9zLmZvckVhY2goKGNhcmRJbmZvLCBpbmRleCkgPT4ge1xyXG5cdFx0Y29uc3QgaW5mb0hlaWdodCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhcmRJbmZvKS5oZWlnaHRcclxuXHRcdGNvbnN0IGltZ0hlaWdodCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhcmRJbWdzW2luZGV4XSkuaGVpZ2h0XHJcblx0XHRjb25zdCBjYXJkSW1nID0gY2FyZEltZ3NbaW5kZXhdXHJcblx0XHRjb25zdCBjYXJkID0gY2FyZHNbaW5kZXhdXHJcblx0XHRjb25zdCBpbmZvID0gY2FyZEluZm9zW2luZGV4XVxyXG5cdFx0Y29uc29sZS5sb2coaW1nSGVpZ2h0KVxyXG5cdFx0Y29uc29sZS5sb2coaW5mb0hlaWdodClcclxuXHJcblx0XHRpZiAoaW5mb0hlaWdodCA+IGNhcmRJbWcuc3R5bGUuaGVpZ2h0KSB7XHJcblx0XHRcdGNhcmRJbWcuc3R5bGUuaGVpZ2h0ID0gaW5mb0hlaWdodFxyXG5cdFx0XHRjYXJkLnN0eWxlLmhlaWdodCA9IGluZm9IZWlnaHRcclxuXHRcdH0gZWxzZSBpZiAoaW5mb0hlaWdodCA8IGltZ0hlaWdodCkge1xyXG5cdFx0XHRjYXJkSW1nLnN0eWxlLmhlaWdodCA9IGltZ0hlaWdodFxyXG5cdFx0XHRjYXJkLnN0eWxlLmhlaWdodCA9IGltZ0hlaWdodFxyXG5cdFx0XHRpbmZvLnN0eWxlLmhlaWdodCA9IGltZ0hlaWdodFxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbmltYWdlcy5mb3JFYWNoKGltYWdlID0+IHtcclxuXHRpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdGNvbnN0IGNsaWNrZWRTcmMgPSBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpXHJcblxyXG5cdFx0ZnVsbHNjcmVlbkltYWdlcy5mb3JFYWNoKGZ1bGxzY3JlZW5JbWcgPT4ge1xyXG5cdFx0XHRjb25zdCBmdWxsc2NyZWVuU3JjID0gZnVsbHNjcmVlbkltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpXHJcblx0XHRcdGNvbnN0IHBhcmVudExpID0gZnVsbHNjcmVlbkltZy5wYXJlbnRFbGVtZW50XHJcblxyXG5cdFx0XHRpZiAoY2xpY2tlZFNyYyA9PT0gZnVsbHNjcmVlblNyYykge1xyXG5cdFx0XHRcdHBhcmVudExpLmNsYXNzTGlzdC50b2dnbGUoJ2FuaW1hdGlvbicpXHJcblx0XHRcdFx0Y29ycmVzcG9uZGluZ0Z1bGxzY3JlZW5MaSA9IHBhcmVudExpXHJcblx0XHRcdFx0aGFuZGxlT3ZlcmxheSgpXHJcblx0XHRcdFx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LmFkZCgnYmxvY2stc2Nyb2xsJylcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwYXJlbnRMaS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24nKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH0pXHJcbn0pXHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpXHJcbmNoZWNrQ29va2llcygpXHJcbmNhcmRzU2l6ZXMoKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgbmF2QmFyT3BhY2l0eSlcclxubmF2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2KVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0ZnVsbHNjcmVlbkltYWdlcy5mb3JFYWNoKGltZyA9PiB7XHJcblx0XHRpZiAoZS50YXJnZXQgPT09IGltZyB8fCBlLmtleSA9PT0gJ0VzY2FwZScgfHwgKGUudGFyZ2V0ID09PSBvdmVybGF5ICYmICFwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3ctcG9wdXAnKSkpIHtcclxuXHRcdFx0Y2xvc2VPdmVybGF5KClcclxuXHRcdFx0Y29ycmVzcG9uZGluZ0Z1bGxzY3JlZW5MaS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRpb24nKVxyXG5cdFx0fVxyXG5cdH0pXHJcbn0pXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xyXG5cdGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgY29ycmVzcG9uZGluZ0Z1bGxzY3JlZW5MaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FuaW1hdGlvbicpKSB7XHJcblx0XHQvLyBUdXRhaiB3eWtvbmFqIGFrY2rEmSBwbyBuYWNpxZtuacSZY2l1IGtsYXdpc3phIFwiRVNDXCJcclxuXHRcdGNsb3NlT3ZlcmxheSgpXHJcblx0XHRjb3JyZXNwb25kaW5nRnVsbHNjcmVlbkxpLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGlvbicpXHJcblx0fVxyXG59KVxyXG5cclxucG9wdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwb3B1cEJ0blJlbW92ZU92ZXJsYXkpXHJcbmxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcblx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRuYXZCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSA/IGNsb3NlT3ZlcmxheSgpIDogZmFsc2VcclxuXHRcdGFsaW5nbWVudFRvTmF2QmFyKGxpbmspXHJcblx0fSlcclxufSlcclxuXHJcbmhlYWRlckxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcblx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRhbGluZ21lbnRUb05hdkJhcihsaW5rKVxyXG5cdH0pXHJcbn0pXHJcblxyXG5jb29raWVBY2NlcHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb29raWVQb3B1cENsb3NlKVxyXG5cclxuY29uc3Qgb3B0aW9ucyA9IHtcclxuXHRyb290OiBudWxsLFxyXG5cdHJvb3RNYXJnaW46IGAke3Jvb3RNYXJnaW5Ub3B9IDBweCAke3Jvb3RNYXJnaW5Cb3R0b219IDBweGAsXHJcblx0dGhyZXNob2xkOiAwLFxyXG59XHJcblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcclxuXHRlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG5cdFx0Y29uc3QgaWQgPSBlbnRyeS50YXJnZXQuZ2V0QXR0cmlidXRlKCdpZCcpXHJcblx0XHRjb25zdCBjb3JyZXNwb25kaW5nTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGFbaHJlZj1cIiMke2lkfVwiXWApXHJcblx0XHRjb25zdCBoYW1idXJnZXJTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKSlcclxuXHRcdGNvbnN0IHN2Z05hdkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3ZnLWljb24nKVxyXG5cclxuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG5cdFx0XHRpZiAoaGFtYnVyZ2VyU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZGlzcGxheScpID09PSAnbm9uZScpIHtcclxuXHRcdFx0XHRocmVmVG9VUkwoY29ycmVzcG9uZGluZ0xpbmspXHJcblx0XHRcdFx0Y29ycmVzcG9uZGluZ0xpbmsuc3R5bGUuY29sb3IgPSAnIzYwNGEzNCdcclxuXHRcdFx0XHRpZCA9PT0gJ2hvbWUnID8gc3ZnTmF2SWNvbi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnIzYwNGEzNCcpIDogc3ZnTmF2SWNvbi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnIzAwMDAwMCcpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aHJlZlRvVVJMKGNvcnJlc3BvbmRpbmdMaW5rKVxyXG5cdFx0XHRcdGNvcnJlc3BvbmRpbmdMaW5rLnN0eWxlLmNvbG9yID0gJyNmZmE5NjMnXHJcblx0XHRcdFx0aWQgPT09ICdob21lJyA/IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNmZmE5NjMnKSA6IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNmZmYnKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb3JyZXNwb25kaW5nTGluay5zdHlsZS5jb2xvciA9ICcnXHJcblx0XHR9XHJcblx0fSlcclxufSwgb3B0aW9ucylcclxuXHJcbnNlY3Rpb25zQW5kSGVhZGVyLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0b2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKVxyXG59KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHRjb25zdCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxyXG5cdGNvbnN0IHNlY3Rpb25JZCA9IHVybC5zcGxpdCgnIycpWzFdIC8vIFBvYnJhbmllIGZyYWdtZW50dSBhZHJlc3UgVVJMXHJcblxyXG5cdGlmIChzZWN0aW9uSWQpIHtcclxuXHRcdGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uSWQpXHJcblx0XHRpZiAodGFyZ2V0RWxlbWVudCkge1xyXG5cdFx0XHRjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRhcmdldEVsZW1lbnQub2Zmc2V0VG9wIC0gbmF2YmFySGVpZ2h0XHJcblx0XHRcdHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogdGFyZ2V0UG9zaXRpb24gfSlcclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcbiJdfQ==
