"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,o){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,o):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,o):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,r=new Array(o);t<o;t++)r[t]=e[t];return r}var navBtn=document.querySelector(".hamburger"),navBar=document.querySelector(".nav"),nav=document.querySelector(".nav__list"),overlay=document.querySelector(".overlay"),links=document.querySelectorAll(".nav__item"),blockScroll=document.body,footerYear=document.querySelector(".footer__year"),contactForm=document.querySelector("#contact-form"),nameForm=document.querySelector("#name"),emailForm=document.querySelector("#email"),msgForm=document.querySelector("#msg"),btnForm=document.querySelector(".contact-form__input-btn"),popup=document.querySelector(".form__popup"),popupBtn=document.querySelector(".form__popup-close"),sections=document.querySelectorAll("section"),header=document.querySelector("header"),headerBtn=document.querySelector(".header__btn-link"),headerArrowDown=document.querySelector(".header__arrow-link"),cookiePopup=document.querySelector(".cookie-popup"),cookieAccept=document.querySelector(".cookie-popup__btn"),images=document.querySelectorAll(".gallery__img-container"),headerLinks=[headerBtn,headerArrowDown],sectionsAndHeader=[header].concat(_toConsumableArray(sections)),navbarHeight=navBar.clientHeight,viewportHeight=window.innerHeight,scrollThreshold=200,rootMarginBottomCorrection=110,rootMarginTopCorrection=10,rootMarginBottom="".concat(-(viewportHeight-rootMarginBottomCorrection),"px"),rootMarginTop="".concat(-(navbarHeight+rootMarginTopCorrection),"px"),emailValid=(overlay.style.visibility="hidden",emailjs.init("lgkz6CPgh6GbEuCoO"),0),validateEmail=function(e){var o=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,4}))$/gim;o.test(e.value)&&""!=nameForm.value&&""!=msgForm.value?(removeError(e),contactForm.contact_number.value=Math.floor(1e5*Math.random()),emailjs.sendForm("service_4rabq7e","template_6wtj7m3",contactForm).then(function(){console.log("SUCCESS!")}).catch(function(e){console.log("FAILED...",e)}),emailValid=1):""===e.value?showError(e,e.placeholder):o.test(e.value)&(""!=nameForm.value||""!=msgForm.value)?removeError(e):!1===o.test(e.value)&&(showError(e,"Email jest nieprawidÅ‚owy!"),emailValid=0)},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},closeOverlay=function(){handleOverlay(),navBtn.classList.remove("is-active"),nav.classList.remove("nav__list--active"),blockScroll.classList.remove("block-scroll")},handleOverlay=function(){"hidden"==overlay.style.visibility?(overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1)):(setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"))},handleNav=function(){navBtn.classList.toggle("is-active"),nav.classList.toggle("nav__list--active"),handleOverlay(),blockScroll.classList.toggle("block-scroll")},showError=function(e,o){var e=e.parentElement,t=e.querySelector(".contact-form__error-text");e.classList.add("error"),t.textContent=o},removeError=function(e){e.parentElement.classList.remove("error")},checkErrors=function(){var e=document.querySelectorAll(".contact-form__box"),o=0;e.forEach(function(e){e.classList.contains("error")&&o++}),0===o&&1===emailValid&&(blockScroll.classList.add("block-scroll"),popup.classList.add("show-popup"),overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1))},clearInputs=function(e){e.forEach(function(e){e.value="",removeError(e)})},popupBtnRemoveOverlay=function(e){e.preventDefault(),clearInputs([msgForm,nameForm,emailForm]),blockScroll.classList.remove("block-scroll"),setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"),popup.classList.remove("show-popup")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):removeError(e)})},navBarOpacity=(window.onload=function(){btnForm.addEventListener("click",function(e){e.preventDefault(),checkForm([msgForm,nameForm,emailForm]),validateEmail(emailForm),checkErrors()})},function(){return window.scrollY>=scrollThreshold?navBar.classList.add("nav__opacity"):navBar.classList.remove("nav__opacity")}),alingmentToNavBar=function(e){var e=e.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))},checkCookies=function(){localStorage.getItem("cookies")&&cookiePopup.classList.add("close-popup")},cookiePopupClose=function(e){e.preventDefault(),localStorage.setItem("cookies","true"),cookiePopup.classList.add("close-popup")},hrefToURL=function(e){var e=e.getAttribute("href"),o=window.location.href.split("#")[0],o="".concat(o).concat(e);history.pushState({},"",o)},imgSizeUp=function(e){e.classList.toggle("fullscreen")},options=(images.forEach(function(e){e.addEventListener("click",function(){return imgSizeUp(e)})}),handleCurrentYear(),checkCookies(),window.addEventListener("scroll",navBarOpacity),navBtn.addEventListener("click",handleNav),window.addEventListener("click",function(e){return e.target===overlay&&!popup.classList.contains("show-popup")&&closeOverlay()}),popupBtn.addEventListener("click",popupBtnRemoveOverlay),links.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),navBtn.classList.contains("is-active")&&closeOverlay(),alingmentToNavBar(o)})}),headerLinks.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),alingmentToNavBar(o)})}),cookieAccept.addEventListener("click",cookiePopupClose),{root:null,rootMargin:"".concat(rootMarginTop," 0px ").concat(rootMarginBottom," 0px"),threshold:0}),observer=new IntersectionObserver(function(e){e.forEach(function(e){var o=e.target.getAttribute("id"),t=document.querySelector('a[href="#'.concat(o,'"]')),r=window.getComputedStyle(document.querySelector(".hamburger")),n=document.querySelector(".svg-icon");e.isIntersecting?"none"===r.getPropertyValue("display")?(hrefToURL(t),t.style.color="#604a34","header"===o?n.setAttribute("fill","#604a34"):n.setAttribute("fill","#000")):(hrefToURL(t),t.style.color="#ffa963","header"===o?n.setAttribute("fill","#ffa963"):n.setAttribute("fill","#000")):t.style.color=""})},options);sectionsAndHeader.forEach(function(e){observer.observe(e)}),document.addEventListener("DOMContentLoaded",function(){var e=window.location.href.split("#")[1];e&&(e=document.getElementById(e))&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2QmFyIiwibmF2Iiwib3ZlcmxheSIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImJsb2NrU2Nyb2xsIiwiYm9keSIsImZvb3RlclllYXIiLCJjb250YWN0Rm9ybSIsIm5hbWVGb3JtIiwiZW1haWxGb3JtIiwibXNnRm9ybSIsImJ0bkZvcm0iLCJwb3B1cCIsInNlY3Rpb25zIiwiaGVhZGVyIiwiaGVhZGVyQnRuIiwiaGVhZGVyQXJyb3dEb3duIiwiaW5uZXJIZWlnaHQiLCJjb29raWVQb3B1cCIsImNvb2tpZUFjY2VwdCIsImltYWdlcyIsImhlYWRlckxpbmtzIiwicm9vdE1hcmdpbkJvdHRvbUNvcnJlY3Rpb24iLCJzZWN0aW9uc0FuZEhlYWRlciIsIl90b0NvbnN1bWFibGVBcnJheSIsInJvb3RNYXJnaW5Ub3BDb3JyZWN0aW9uIiwidmlld3BvcnRIZWlnaHQiLCJlbWFpbGpzIiwicm9vdE1hcmdpblRvcCIsImVtYWlsIiwiZW1haWxSZWciLCJlbWFpbFZhbGlkIiwidGVzdCIsInZhbHVlIiwicmVtb3ZlRXJyb3IiLCJ2YWxpZGF0ZUVtYWlsIiwiY29udGFjdF9udW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZW5kRm9ybSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNob3dFcnJvciIsInBsYWNlaG9sZGVyIiwiaGFuZGxlQ3VycmVudFllYXIiLCJjbG9zZU92ZXJsYXkiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJoYW5kbGVPdmVybGF5IiwieWVhciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsInNldFRpbWVvdXQiLCJhZGQiLCJoYW5kbGVOYXYiLCJ0b2dnbGUiLCJmb3JtQm94IiwiaW5wdXQiLCJwYXJlbnRFbGVtZW50IiwidGV4dENvbnRlbnQiLCJlcnJvck1zZyIsImNoZWNrRXJyb3JzIiwiYWxsSW5wdXRzIiwiY29udGFpbnMiLCJlcnJvckNvdW50IiwiZm9yRWFjaCIsImVsIiwicG9wdXBCdG5SZW1vdmVPdmVybGF5IiwicHJldmVudERlZmF1bHQiLCJjbGVhcklucHV0cyIsImUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tGb3JtIiwic2Nyb2xsWSIsImFsaW5nbWVudFRvTmF2QmFyIiwibGluayIsIm5hdkJhck9wYWNpdHkiLCJvbmxvYWQiLCJ0YXJnZXRQb3NpdGlvbiIsImNvb2tpZVBvcHVwQ2xvc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRBdHRyaWJ1dGUiLCJzdWJzdHJpbmciLCJ0YXJnZXRFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0YXJnZXRJZCIsImN1cnJlbnRVUkwiLCJvZmZzZXRUb3AiLCJuYXZiYXJIZWlnaHQiLCJuZXdVUkwiLCJjb25jYXQiLCJoaXN0b3J5IiwiY2hlY2tDb29raWVzIiwiZ2V0SXRlbSIsImltZ1NpemVVcCIsImltYWdlIiwiaHJlZlRvVVJMIiwiY29ycmVzcG9uZGluZ0xpbmsiLCJocmVmIiwicG9wdXBCdG4iLCJsb2NhdGlvbiIsIm9wdGlvbnMiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwiZW50cnkiLCJoYW1idXJnZXJTdHlsZSIsInN2Z05hdkljb24iLCJvYnNlcnZlIiwicm9vdE1hcmdpbkJvdHRvbSIsInNlY3Rpb25JZCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsInRhcmdldCIsImlkIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImlzSW50ZXJzZWN0aW5nIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImNvbG9yIiwic2V0QXR0cmlidXRlIiwic2VjdGlvbiIsIm9ic2VydmVyIiwic3BsaXQiLCJzY3JvbGxUbyIsInRvcCJdLCJtYXBwaW5ncyI6InErQkFBQSxJQUFNQSxPQUFTQyxTQUFTQyxjQUFjLFlBQVksRUFDNUNDLE9BQVNGLFNBQVNDLGNBQWMsTUFBTSxFQUN0Q0UsSUFBTUgsU0FBU0MsY0FBYyxZQUFZLEVB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QU9vRCxTQUFTLENBQUVDLElBQUs3QyxDQUFlLENBQUMsRUFHMUMsQ0FBQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5hdkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKVxyXG5jb25zdCBuYXZCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2JylcclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbGlzdCcpXHJcbmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpXHJcbmNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9faXRlbScpXHJcbmNvbnN0IGJsb2NrU2Nyb2xsID0gZG9jdW1lbnQuYm9keVxyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9feWVhcicpXHJcbmNvbnN0IGNvbnRhY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRhY3QtZm9ybScpXHJcbmNvbnN0IG5hbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKVxyXG5jb25zdCBlbWFpbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZW1haWwnKVxyXG5jb25zdCBtc2dGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21zZycpXHJcbmNvbnN0IGJ0bkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdC1mb3JtX19pbnB1dC1idG4nKVxyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19wb3B1cCcpXHJcbmNvbnN0IHBvcHVwQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3BvcHVwLWNsb3NlJylcclxuY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uJylcclxuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyJylcclxuY29uc3QgaGVhZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnRuLWxpbmsnKVxyXG5jb25zdCBoZWFkZXJBcnJvd0Rvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19hcnJvdy1saW5rJylcclxuY29uc3QgY29va2llUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29va2llLXBvcHVwJylcclxuY29uc3QgY29va2llQWNjZXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvb2tpZS1wb3B1cF9fYnRuJylcclxuY29uc3QgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfX2ltZy1jb250YWluZXInKVxyXG5cclxuY29uc3QgaGVhZGVyTGlua3MgPSBbaGVhZGVyQnRuLCBoZWFkZXJBcnJvd0Rvd25dXHJcbmNvbnN0IHNlY3Rpb25zQW5kSGVhZGVyID0gW2hlYWRlciwgLi4uc2VjdGlvbnNdXHJcbmNvbnN0IG5hdmJhckhlaWdodCA9IG5hdkJhci5jbGllbnRIZWlnaHRcclxuY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcclxuY29uc3Qgc2Nyb2xsVGhyZXNob2xkID0gMjAwXHJcbmNvbnN0IHJvb3RNYXJnaW5Cb3R0b21Db3JyZWN0aW9uID0gMTEwXHJcbmNvbnN0IHJvb3RNYXJnaW5Ub3BDb3JyZWN0aW9uID0gMTBcclxuY29uc3Qgcm9vdE1hcmdpbkJvdHRvbSA9IGAkey0odmlld3BvcnRIZWlnaHQgLSByb290TWFyZ2luQm90dG9tQ29ycmVjdGlvbil9cHhgXHJcbmNvbnN0IHJvb3RNYXJnaW5Ub3AgPSBgJHstKG5hdmJhckhlaWdodCArIHJvb3RNYXJnaW5Ub3BDb3JyZWN0aW9uKX1weGBcclxuXHJcbm92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXHJcblxyXG5lbWFpbGpzLmluaXQoJ2xna3o2Q1BnaDZHYkV1Q29PJylcclxubGV0IGVtYWlsVmFsaWQgPSAwXHJcblxyXG5jb25zdCB2YWxpZGF0ZUVtYWlsID0gZW1haWwgPT4ge1xyXG5cdGNvbnN0IGVtYWlsUmVnID1cclxuXHRcdC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLDR9KSkkL2dpbVxyXG5cdGlmIChlbWFpbFJlZy50ZXN0KGVtYWlsLnZhbHVlKSAmJiBuYW1lRm9ybS52YWx1ZSAhPSAnJyAmJiBtc2dGb3JtLnZhbHVlICE9ICcnKSB7XHJcblx0XHRyZW1vdmVFcnJvcihlbWFpbClcclxuXHRcdGNvbnRhY3RGb3JtLmNvbnRhY3RfbnVtYmVyLnZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwKVxyXG5cdFx0ZW1haWxqc1xyXG5cdFx0XHQuc2VuZEZvcm0oJ3NlcnZpY2VfNHJhYnE3ZScsICd0ZW1wbGF0ZV82d3RqN20zJywgY29udGFjdEZvcm0pXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnU1VDQ0VTUyEnKVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuY2F0Y2goZXJyb3IgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdGQUlMRUQuLi4nLCBlcnJvcilcclxuXHRcdFx0fSlcclxuXHRcdGVtYWlsVmFsaWQgPSAxXHJcblx0fSBlbHNlIGlmIChlbWFpbC52YWx1ZSA9PT0gJycpIHNob3dFcnJvcihlbWFpbCwgZW1haWwucGxhY2Vob2xkZXIpXHJcblx0ZWxzZSBpZiAoZW1haWxSZWcudGVzdChlbWFpbC52YWx1ZSkgJiAobmFtZUZvcm0udmFsdWUgIT0gJycgfHwgbXNnRm9ybS52YWx1ZSAhPSAnJykpIHJlbW92ZUVycm9yKGVtYWlsKVxyXG5cdGVsc2UgaWYgKGVtYWlsUmVnLnRlc3QoZW1haWwudmFsdWUpID09PSBmYWxzZSkge1xyXG5cdFx0c2hvd0Vycm9yKGVtYWlsLCAnRW1haWwgamVzdCBuaWVwcmF3aWTFgm93eSEnKVxyXG5cdFx0ZW1haWxWYWxpZCA9IDBcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUN1cnJlbnRZZWFyID0gKCkgPT4ge1xyXG5cdGNvbnN0IHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKClcclxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXJcclxufVxyXG5cclxuY29uc3QgY2xvc2VPdmVybGF5ID0gKCkgPT4ge1xyXG5cdGhhbmRsZU92ZXJsYXkoKVxyXG5cdG5hdkJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxyXG5cdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXZfX2xpc3QtLWFjdGl2ZScpXHJcblx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LnJlbW92ZSgnYmxvY2stc2Nyb2xsJylcclxufVxyXG5cclxuY29uc3QgaGFuZGxlT3ZlcmxheSA9ICgpID0+IHtcclxuXHRpZiAob3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID09ICdoaWRkZW4nKSB7XHJcblx0XHRvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0XHR9LCAxKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0b3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHRcdH0sIDMwMClcclxuXHRcdG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuXHRuYXZCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJylcclxuXHRuYXYuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2X19saXN0LS1hY3RpdmUnKVxyXG5cdGhhbmRsZU92ZXJsYXkoKVxyXG5cdGJsb2NrU2Nyb2xsLmNsYXNzTGlzdC50b2dnbGUoJ2Jsb2NrLXNjcm9sbCcpXHJcbn1cclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtZm9ybV9fZXJyb3ItdGV4dCcpXHJcblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2dcclxufVxyXG5cclxuY29uc3QgcmVtb3ZlRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhY3QtZm9ybV9fYm94JylcclxuXHRsZXQgZXJyb3JDb3VudCA9IDBcclxuXHJcblx0YWxsSW5wdXRzLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0ZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpID8gZXJyb3JDb3VudCsrIDogZmFsc2VcclxuXHR9KVxyXG5cclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCAmJiBlbWFpbFZhbGlkID09PSAxKSB7XHJcblx0XHRibG9ja1Njcm9sbC5jbGFzc0xpc3QuYWRkKCdibG9jay1zY3JvbGwnKVxyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdy1wb3B1cCcpXHJcblx0XHRvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcblx0XHR9LCAxKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2xlYXJJbnB1dHMgPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC52YWx1ZSA9ICcnXHJcblx0XHRyZW1vdmVFcnJvcihlbClcclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBwb3B1cEJ0blJlbW92ZU92ZXJsYXkgPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRjbGVhcklucHV0cyhbbXNnRm9ybSwgbmFtZUZvcm0sIGVtYWlsRm9ybV0pXHJcblx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LnJlbW92ZSgnYmxvY2stc2Nyb2xsJylcclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXHJcblx0fSwgMzAwKVxyXG5cdG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuXHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXBvcHVwJylcclxufVxyXG5cclxuY29uc3QgY2hlY2tGb3JtID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0ZWwudmFsdWUgPT09ICcnID8gc2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcikgOiByZW1vdmVFcnJvcihlbClcclxuXHR9KVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdGJ0bkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0Y2hlY2tGb3JtKFttc2dGb3JtLCBuYW1lRm9ybSwgZW1haWxGb3JtXSlcclxuXHRcdHZhbGlkYXRlRW1haWwoZW1haWxGb3JtKVxyXG5cdFx0Y2hlY2tFcnJvcnMoKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IG5hdkJhck9wYWNpdHkgPSAoKSA9PlxyXG5cdHdpbmRvdy5zY3JvbGxZID49IHNjcm9sbFRocmVzaG9sZCA/IG5hdkJhci5jbGFzc0xpc3QuYWRkKCduYXZfX29wYWNpdHknKSA6IG5hdkJhci5jbGFzc0xpc3QucmVtb3ZlKCduYXZfX29wYWNpdHknKVxyXG5cclxuY29uc3QgYWxpbmdtZW50VG9OYXZCYXIgPSBsaW5rID0+IHtcclxuXHRjb25zdCB0YXJnZXRJZCA9IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykuc3Vic3RyaW5nKDEpXHJcblx0Y29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElkKVxyXG5cclxuXHRpZiAodGFyZ2V0RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0YXJnZXRFbGVtZW50Lm9mZnNldFRvcCAtIG5hdmJhckhlaWdodFxyXG5cdFx0d2luZG93LnNjcm9sbFRvKHtcclxuXHRcdFx0dG9wOiB0YXJnZXRQb3NpdGlvbixcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Nvb2tpZXMgPSAoKSA9PiB7XHJcblx0Y29uc3QgY29va2llcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb29raWVzJylcclxuXHRjb29raWVzID8gY29va2llUG9wdXAuY2xhc3NMaXN0LmFkZCgnY2xvc2UtcG9wdXAnKSA6IGZhbHNlXHJcbn1cclxuXHJcbmNvbnN0IGNvb2tpZVBvcHVwQ2xvc2UgPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29va2llcycsICd0cnVlJylcclxuXHRjb29raWVQb3B1cC5jbGFzc0xpc3QuYWRkKCdjbG9zZS1wb3B1cCcpXHJcbn1cclxuY29uc3QgaHJlZlRvVVJMID0gY29ycmVzcG9uZGluZ0xpbmsgPT4ge1xyXG5cdGNvbnN0IGhyZWYgPSBjb3JyZXNwb25kaW5nTGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxyXG5cdGNvbnN0IGN1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdXHJcblx0Y29uc3QgbmV3VVJMID0gYCR7Y3VycmVudFVSTH0ke2hyZWZ9YFxyXG5cdGhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgbmV3VVJMKVxyXG59XHJcblxyXG5jb25zdCBpbWdTaXplVXAgPSBpbWFnZSA9PiB7XHJcblx0aW1hZ2UuY2xhc3NMaXN0LnRvZ2dsZSgnZnVsbHNjcmVlbicpXHJcbn1cclxuXHJcbmltYWdlcy5mb3JFYWNoKGltYWdlID0+IHtcclxuXHRpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGltZ1NpemVVcChpbWFnZSkpXHJcbn0pXHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpXHJcbmNoZWNrQ29va2llcygpXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBuYXZCYXJPcGFjaXR5KVxyXG5uYXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT5cclxuXHRlLnRhcmdldCA9PT0gb3ZlcmxheSAmJiAhcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93LXBvcHVwJykgPyBjbG9zZU92ZXJsYXkoKSA6IGZhbHNlXHJcbilcclxuXHJcbnBvcHVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcG9wdXBCdG5SZW1vdmVPdmVybGF5KVxyXG5saW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xyXG5cdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0bmF2QnRuLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykgPyBjbG9zZU92ZXJsYXkoKSA6IGZhbHNlXHJcblxyXG5cdFx0YWxpbmdtZW50VG9OYXZCYXIobGluaylcclxuXHR9KVxyXG59KVxyXG5cclxuaGVhZGVyTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuXHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRcdGFsaW5nbWVudFRvTmF2QmFyKGxpbmspXHJcblx0fSlcclxufSlcclxuXHJcbmNvb2tpZUFjY2VwdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNvb2tpZVBvcHVwQ2xvc2UpXHJcblxyXG5jb25zdCBvcHRpb25zID0ge1xyXG5cdHJvb3Q6IG51bGwsXHJcblx0cm9vdE1hcmdpbjogYCR7cm9vdE1hcmdpblRvcH0gMHB4ICR7cm9vdE1hcmdpbkJvdHRvbX0gMHB4YCxcclxuXHR0aHJlc2hvbGQ6IDAsXHJcbn1cclxuXHJcbmNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xyXG5cdGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcblx0XHRjb25zdCBpZCA9IGVudHJ5LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2lkJylcclxuXHRcdGNvbnN0IGNvcnJlc3BvbmRpbmdMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgYVtocmVmPVwiIyR7aWR9XCJdYClcclxuXHRcdGNvbnN0IGhhbWJ1cmdlclN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpKVxyXG5cdFx0Y29uc3Qgc3ZnTmF2SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdmctaWNvbicpXHJcblxyXG5cdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcblx0XHRcdGlmIChoYW1idXJnZXJTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXNwbGF5JykgPT09ICdub25lJykge1xyXG5cdFx0XHRcdGhyZWZUb1VSTChjb3JyZXNwb25kaW5nTGluaylcclxuXHRcdFx0XHRjb3JyZXNwb25kaW5nTGluay5zdHlsZS5jb2xvciA9ICcjNjA0YTM0J1xyXG5cdFx0XHRcdGlkID09PSAnaGVhZGVyJyA/IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyM2MDRhMzQnKSA6IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyMwMDAnKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhyZWZUb1VSTChjb3JyZXNwb25kaW5nTGluaylcclxuXHRcdFx0XHRjb3JyZXNwb25kaW5nTGluay5zdHlsZS5jb2xvciA9ICcjZmZhOTYzJ1xyXG5cdFx0XHRcdGlkID09PSAnaGVhZGVyJyA/IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNmZmE5NjMnKSA6IHN2Z05hdkljb24uc2V0QXR0cmlidXRlKCdmaWxsJywgJyMwMDAnKVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb3JyZXNwb25kaW5nTGluay5zdHlsZS5jb2xvciA9ICcnXHJcblx0XHR9XHJcblx0fSlcclxufSwgb3B0aW9ucylcclxuXHJcbnNlY3Rpb25zQW5kSGVhZGVyLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0b2JzZXJ2ZXIub2JzZXJ2ZShzZWN0aW9uKVxyXG59KVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuXHRjb25zdCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxyXG5cdGNvbnN0IHNlY3Rpb25JZCA9IHVybC5zcGxpdCgnIycpWzFdIC8vIFBvYnJhbmllIGZyYWdtZW50dSBhZHJlc3UgVVJMXHJcblxyXG5cdGlmIChzZWN0aW9uSWQpIHtcclxuXHRcdGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWN0aW9uSWQpXHJcblx0XHRpZiAodGFyZ2V0RWxlbWVudCkge1xyXG5cdFx0XHRjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRhcmdldEVsZW1lbnQub2Zmc2V0VG9wIC0gbmF2YmFySGVpZ2h0XHJcblx0XHRcdHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogdGFyZ2V0UG9zaXRpb24gfSlcclxuXHRcdH1cclxuXHR9XHJcbn0pXHJcbiJdfQ==
