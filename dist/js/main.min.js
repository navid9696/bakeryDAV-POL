"use strict";var navBtn=document.querySelector(".hamburger"),navBar=document.querySelector(".nav"),nav=document.querySelector(".nav__list"),overlay=document.querySelector(".overlay"),links=document.querySelectorAll(".nav__item"),blockScroll=document.body,footerYear=document.querySelector(".footer__year"),contactForm=document.querySelector("#contact-form"),nameForm=document.querySelector("#name"),emailForm=document.querySelector("#email"),msgForm=document.querySelector("#msg"),btnForm=document.querySelector(".contact-form__input-btn"),popup=document.querySelector(".contact-form__popup"),popupBtn=document.querySelector(".contact-form__popup-close"),sections=document.querySelectorAll("section"),firstFourSections=Array.from(sections).slice(0,4),navbarHeight=navBar.clientHeight,headerBtn=document.querySelector(".header__btn-link"),headerArrowDown=document.querySelector(".header__arrow-link"),headerLinks=[headerBtn,headerArrowDown],emailValid=(overlay.style.visibility="hidden",emailjs.init("lgkz6CPgh6GbEuCoO"),0),validateEmail=function(e){var o=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,4}))$/gim;o.test(e.value)&&""!=nameForm.value&&""!=msgForm.value?(removeError(e),contactForm.contact_number.value=Math.floor(1e5*Math.random()),emailjs.sendForm("service_4rabq7e","template_6wtj7m3",contactForm).then(function(){console.log("SUCCESS!")}).catch(function(e){console.log("FAILED...",e)}),emailValid=1):""===e.value?showError(e,e.placeholder):o.test(e.value)&(""!=nameForm.value||""!=msgForm.value)?removeError(e):!1===o.test(e.value)&&(showError(e,"Email jest nieprawid≈Çowy!"),emailValid=0)},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},closeOverlay=function(){handleOverlay(),navBtn.classList.remove("is-active"),nav.classList.remove("nav__list--active"),blockScroll.classList.remove("block-scroll")},handleOverlay=function(){"hidden"==overlay.style.visibility?(overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1)):(setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"))},handleNav=function(){navBtn.classList.toggle("is-active"),nav.classList.toggle("nav__list--active"),handleOverlay(),blockScroll.classList.toggle("block-scroll")},showError=function(e,o){var e=e.parentElement,r=e.querySelector(".contact-form__error-text");e.classList.add("error"),r.textContent=o},removeError=function(e){e.parentElement.classList.remove("error")},checkErrors=function(){var e=document.querySelectorAll(".contact-form__box"),o=0;e.forEach(function(e){e.classList.contains("error")&&o++}),0===o&&1===emailValid&&(blockScroll.classList.add("block-scroll"),popup.classList.add("show-popup"),overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1))},clearInputs=function(e){e.forEach(function(e){e.value="",removeError(e)})},popupBtnRemoveOverlay=function(e){e.preventDefault(),clearInputs([msgForm,nameForm,emailForm]),blockScroll.classList.remove("block-scroll"),setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"),popup.classList.remove("show-popup")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):removeError(e)})},scrollSpy=(window.onload=function(){btnForm.addEventListener("click",function(e){e.preventDefault(),checkForm([msgForm,nameForm,emailForm]),validateEmail(emailForm),checkErrors()})},function(e){var e=e.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))});handleCurrentYear(),navBtn.addEventListener("click",handleNav),window.addEventListener("click",function(e){return e.target===overlay&&closeOverlay()}),popupBtn.addEventListener("click",popupBtnRemoveOverlay),links.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),closeOverlay(),scrollSpy(o)})}),headerLinks.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),scrollSpy(o)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2QmFyIiwibmF2Iiwib3ZlcmxheSIsImxpbmtzIiwicXVlcnlTZWxlY3RvckFsbCIsImJsb2NrU2Nyb2xsIiwiYm9keSIsImZvb3RlclllYXIiLCJjb250YWN0Rm9ybSIsIm5hbWVGb3JtIiwiZW1haWxGb3JtIiwibXNnRm9ybSIsImJ0bkZvcm0iLCJwb3B1cCIsInBvcHVwQnRuIiwic2VjdGlvbnMiLCJzbGljZSIsImZpcnN0Rm91clNlY3Rpb25zIiwiQXJyYXkiLCJuYXZiYXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJoZWFkZXJCdG4iLCJlbWFpbFZhbGlkIiwiaGVhZGVyTGlua3MiLCJlbWFpbGpzIiwiaW5pdCIsImVtYWlsUmVnIiwiZW1haWwiLCJjb250YWN0X251bWJlciIsIk1hdGgiLCJ2YWx1ZSIsImZsb29yIiwicmFuZG9tIiwicmVtb3ZlRXJyb3IiLCJzZW5kRm9ybSIsImxvZyIsImVycm9yIiwidGhlbiIsInNob3dFcnJvciIsImhhbmRsZUN1cnJlbnRZZWFyIiwicGxhY2Vob2xkZXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJjbG9zZU92ZXJsYXkiLCJyZW1vdmUiLCJ5ZWFyIiwiaGFuZGxlT3ZlcmxheSIsInNldFRpbWVvdXQiLCJjbGFzc0xpc3QiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJ0b2dnbGUiLCJmb3JtQm94IiwiaW5wdXQiLCJwYXJlbnRFbGVtZW50IiwiaGFuZGxlTmF2IiwiZXJyb3JDb3VudCIsIm1zZyIsImFsbElucHV0cyIsImZvckVhY2giLCJlcnJvck1zZyIsImNvbnRhaW5zIiwiYWRkIiwidGV4dENvbnRlbnQiLCJjaGVja0Vycm9ycyIsImVsIiwicHJldmVudERlZmF1bHQiLCJjbGVhcklucHV0cyIsInBvcHVwQnRuUmVtb3ZlT3ZlcmxheSIsImUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY2hlY2tGb3JtIiwidmFsaWRhdGVFbWFpbCIsInRhcmdldEVsZW1lbnQiLCJ0YXJnZXRQb3NpdGlvbiIsInNjcm9sbFRvIiwibGluayIsImdldEF0dHJpYnV0ZSIsInN1YnN0cmluZyIsImdldEVsZW1lbnRCeUlkIiwidGFyZ2V0SWQiLCJvZmZzZXRUb3AiLCJ0b3AiLCJ0YXJnZXQiLCJzY3JvbGxTcHkiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLE9BQVNDLFNBQVNDLGNBQWMsWUFBWSxFQUM1Q0MsT0FBU0YsU0FBU0MsY0FBYyxNQUFNLEVBRHRDRixJQUFNQyxTQUFXQyxjQUFjLFlBQUMsRUFDaENDLFFBQVNGLFNBQVNDLGNBQWMsVUFBTyxFQUN2Q0UsTUFBTUgsU0FBU0MsaUJBQWMsWUFBYSxFQUMxQ0csWUFBVUosU0FBU0MsS0FDbkJJLFdBQVFMLFNBQVNNLGNBQWlCLGVBQWEsRUFDL0NDLFlBQWNQLFNBQVNRLGNBQUksZUFBQSxFQUMzQkMsU0FBYVQsU0FBU0MsY0FBYyxPQUFBLEVBQ3BDUyxVQUFjVixTQUFTQyxjQUFjLFFBQUEsRUFDckNVLFFBQVdYLFNBQVNDLGNBQWMsTUFBTyxFQUN6Q1csUUFBWVosU0FBU0MsY0FBYywwQkFBUyxFQUM1Q1ksTUFBVWIsU0FBU0MsY0FBYyxzQkFBTyxFQUN4Q2EsU0FBVWQsU0FBU0MsY0FBYyw0QkFBMkIsRUFDNURjLFNBQVFmLFNBQVNDLGlCQUFjLFNBQUEsRUFDL0JlLGtCQUFvQmYsTUFBQUEsS0FBYWdCLFFBQUMsRUFBQUMsTUFBQSxFQUFBLENBQUEsRUFDbENELGFBQVdqQixPQUFTTSxhQUNwQmEsVUFBQUEsU0FBb0JDLGNBQVdILG1CQUFxQixFQUNwREksZ0JBQWVuQixTQUFPb0IsY0FBWSxxQkFBQSxFQUNsQ0MsWUFBWXZCLENBQUFBLFVBQVNDLGlCQU92QnVCLFlBTEpwQixRQUFNcUIsTUFBQUEsV0FBZUYsU0FJckJHLFFBQVFDLEtBQUssbUJBQW1CLEVBQ2YsR0FHVkMsY0FDTCxTQUFBQyxHQURELElBRUlELEVBREgsZ0tBR0FsQixF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QUFZcUMsUUFBUSxTQUFBa0IsR0FDbkJBLEVBQUtOLGlCQUFpQixRQUFTLFNBQUFGLEdBQzlCQSxFQUFFSCxlQUFlLEVBQ2pCbUIsVUFBVVIsQ0FBSSxDQUNmLENBQUMsQ0FDRixDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbmF2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpXHJcbmNvbnN0IG5hdkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKVxyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19saXN0JylcclxuY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdmVybGF5JylcclxuY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtJylcclxuY29uc3QgYmxvY2tTY3JvbGwgPSBkb2N1bWVudC5ib2R5XHJcbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX195ZWFyJylcclxuY29uc3QgY29udGFjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGFjdC1mb3JtJylcclxuY29uc3QgbmFtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpXHJcbmNvbnN0IGVtYWlsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbCcpXHJcbmNvbnN0IG1zZ0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbXNnJylcclxuY29uc3QgYnRuRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0LWZvcm1fX2lucHV0LWJ0bicpXHJcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtZm9ybV9fcG9wdXAnKVxyXG5jb25zdCBwb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0LWZvcm1fX3BvcHVwLWNsb3NlJylcclxuY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uJylcclxuY29uc3QgZmlyc3RGb3VyU2VjdGlvbnMgPSBBcnJheS5mcm9tKHNlY3Rpb25zKS5zbGljZSgwLCA0KVxyXG5jb25zdCBuYXZiYXJIZWlnaHQgPSBuYXZCYXIuY2xpZW50SGVpZ2h0XHJcbmNvbnN0IGhlYWRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J0bi1saW5rJylcclxuY29uc3QgaGVhZGVyQXJyb3dEb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYXJyb3ctbGluaycpXHJcbmNvbnN0IGhlYWRlckxpbmtzID0gW2hlYWRlckJ0biwgaGVhZGVyQXJyb3dEb3duXVxyXG5cclxub3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHJcbmVtYWlsanMuaW5pdCgnbGdrejZDUGdoNkdiRXVDb08nKVxyXG5sZXQgZW1haWxWYWxpZCA9IDBcclxuXHJcbmNvbnN0IHZhbGlkYXRlRW1haWwgPSBlbWFpbCA9PiB7XHJcblx0Y29uc3QgZW1haWxSZWcgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsNH0pKSQvZ2ltXHJcblx0aWYgKGVtYWlsUmVnLnRlc3QoZW1haWwudmFsdWUpICYmIG5hbWVGb3JtLnZhbHVlICE9ICcnICYmIG1zZ0Zvcm0udmFsdWUgIT0gJycpIHtcclxuXHRcdHJlbW92ZUVycm9yKGVtYWlsKVxyXG5cdFx0Y29udGFjdEZvcm0uY29udGFjdF9udW1iZXIudmFsdWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDApXHJcblx0XHRlbWFpbGpzXHJcblx0XHRcdC5zZW5kRm9ybSgnc2VydmljZV80cmFicTdlJywgJ3RlbXBsYXRlXzZ3dGo3bTMnLCBjb250YWN0Rm9ybSlcclxuXHRcdFx0LnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdTVUNDRVNTIScpXHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaChlcnJvciA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ0ZBSUxFRC4uLicsIGVycm9yKVxyXG5cdFx0XHR9KVxyXG5cdFx0ZW1haWxWYWxpZCA9IDFcclxuXHR9IGVsc2UgaWYgKGVtYWlsLnZhbHVlID09PSAnJykgc2hvd0Vycm9yKGVtYWlsLCBlbWFpbC5wbGFjZWhvbGRlcilcclxuXHRlbHNlIGlmIChlbWFpbFJlZy50ZXN0KGVtYWlsLnZhbHVlKSAmICgobmFtZUZvcm0udmFsdWUgIT0gJycpIHx8IG1zZ0Zvcm0udmFsdWUgIT0gJycpKSByZW1vdmVFcnJvcihlbWFpbClcclxuXHRlbHNlIGlmIChlbWFpbFJlZy50ZXN0KGVtYWlsLnZhbHVlKSA9PT0gZmFsc2UpIHtcclxuXHRcdHNob3dFcnJvcihlbWFpbCwgJ0VtYWlsIGplc3QgbmllcHJhd2lkxYJvd3khJylcclxuXHRcdGVtYWlsVmFsaWQgPSAwXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXHJcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyXHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlT3ZlcmxheSA9ICgpID0+IHtcclxuXHRoYW5kbGVPdmVybGF5KClcclxuXHRuYXZCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcclxuXHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2X19saXN0LS1hY3RpdmUnKVxyXG5cdGJsb2NrU2Nyb2xsLmNsYXNzTGlzdC5yZW1vdmUoJ2Jsb2NrLXNjcm9sbCcpXHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZU92ZXJsYXkgPSAoKSA9PiB7XHJcblx0aWYgKG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9PSAnaGlkZGVuJykge1xyXG5cdFx0b3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0b3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdFx0fSwgMSlcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXHJcblx0XHR9LCAzMDApXHJcblx0XHRvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcblx0bmF2QnRuLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpXHJcblx0bmF2LmNsYXNzTGlzdC50b2dnbGUoJ25hdl9fbGlzdC0tYWN0aXZlJylcclxuXHRoYW5kbGVPdmVybGF5KClcclxuXHRibG9ja1Njcm9sbC5jbGFzc0xpc3QudG9nZ2xlKCdibG9jay1zY3JvbGwnKVxyXG59XHJcblxyXG5jb25zdCBzaG93RXJyb3IgPSAoaW5wdXQsIG1zZykgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50XHJcblx0Y29uc3QgZXJyb3JNc2cgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0LWZvcm1fX2Vycm9yLXRleHQnKVxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKVxyXG5cdGVycm9yTXNnLnRleHRDb250ZW50ID0gbXNnXHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZUVycm9yID0gaW5wdXQgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50XHJcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRXJyb3JzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0LWZvcm1fX2JveCcpXHJcblx0bGV0IGVycm9yQ291bnQgPSAwXHJcblxyXG5cdGFsbElucHV0cy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrXHJcblx0XHR9XHJcblx0fSlcclxuXHJcblx0aWYgKGVycm9yQ291bnQgPT09IDAgJiYgZW1haWxWYWxpZCA9PT0gMSkge1xyXG5cdFx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LmFkZCgnYmxvY2stc2Nyb2xsJylcclxuXHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3ctcG9wdXAnKVxyXG5cdFx0b3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnXHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0b3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdFx0fSwgMSlcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNsZWFySW5wdXRzID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0ZWwudmFsdWUgPSAnJ1xyXG5cdFx0cmVtb3ZlRXJyb3IoZWwpXHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgcG9wdXBCdG5SZW1vdmVPdmVybGF5ID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0Y2xlYXJJbnB1dHMoW21zZ0Zvcm0sIG5hbWVGb3JtLCBlbWFpbEZvcm1dKVxyXG5cdGJsb2NrU2Nyb2xsLmNsYXNzTGlzdC5yZW1vdmUoJ2Jsb2NrLXNjcm9sbCcpXHJcblx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xyXG5cdH0sIDMwMClcclxuXHRvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1wb3B1cCcpXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC52YWx1ZSA9PT0gJycpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcilcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZUVycm9yKGVsKVxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XHJcblx0YnRuRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRjaGVja0Zvcm0oW21zZ0Zvcm0sIG5hbWVGb3JtLCBlbWFpbEZvcm1dKVxyXG5cclxuXHRcdHZhbGlkYXRlRW1haWwoZW1haWxGb3JtKVxyXG5cclxuXHRcdGNoZWNrRXJyb3JzKClcclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBzY3JvbGxTcHkgPSBsaW5rID0+IHtcclxuXHRjb25zdCB0YXJnZXRJZCA9IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykuc3Vic3RyaW5nKDEpXHJcblx0Y29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElkKVxyXG5cclxuXHRpZiAodGFyZ2V0RWxlbWVudCkge1xyXG5cdFx0Y29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0YXJnZXRFbGVtZW50Lm9mZnNldFRvcCAtIG5hdmJhckhlaWdodFxyXG5cdFx0d2luZG93LnNjcm9sbFRvKHtcclxuXHRcdFx0dG9wOiB0YXJnZXRQb3NpdGlvbixcclxuXHRcdH0pXHJcblx0fVxyXG59XHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpXHJcbm5hdkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdilcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiAoZS50YXJnZXQgPT09IG92ZXJsYXkgPyBjbG9zZU92ZXJsYXkoKSA6IGZhbHNlKSlcclxucG9wdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwb3B1cEJ0blJlbW92ZU92ZXJsYXkpXHJcbmxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcblx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRjbG9zZU92ZXJsYXkoKVxyXG5cdFx0c2Nyb2xsU3B5KGxpbmspXHJcblx0fSlcclxufSlcclxuaGVhZGVyTGlua3MuZm9yRWFjaChsaW5rID0+IHtcclxuXHRsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRcdHNjcm9sbFNweShsaW5rKVxyXG5cdH0pXHJcbn0pXHJcbiJdfQ==
