"use strict";var navBtn=document.querySelector(".hamburger"),navBar=document.querySelector(".nav"),nav=document.querySelector(".nav__list"),overlay=document.querySelector(".overlay"),links=document.querySelectorAll(".nav__item"),blockScroll=document.body,footerYear=document.querySelector(".footer__year"),contactForm=document.querySelector("#contact-form"),nameForm=document.querySelector("#name"),emailForm=document.querySelector("#email"),msgForm=document.querySelector("#msg"),btnForm=document.querySelector(".contact-form__input-btn"),popup=document.querySelector(".contact-form__popup"),popupBtn=document.querySelector(".contact-form__popup-close"),sections=document.querySelectorAll("section"),firstFourSections=Array.from(sections).slice(0,4),navbarHeight=navBar.clientHeight,headerBtn=document.querySelector(".header__btn-link"),headerArrowDown=document.querySelector(".header__arrow-link"),headerLinks=[headerBtn,headerArrowDown],validateEmail=(overlay.style.visibility="hidden",emailjs.init("lgkz6CPgh6GbEuCoO"),function(e){var o=0;/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,4}))$/gim.test(e.value)&&""!=nameForm.value&&""!=msgForm.value?(removeError(e),contactForm.contact_number.value=Math.floor(1e5*Math.random()),emailjs.sendForm("service_4rabq7e","template_6wtj7m3",contactForm).then(function(){console.log("SUCCESS!")}).catch(function(e){console.log("FAILED...",e)}),o=1,console.log(o)):""===e.value?showError(e,e.placeholder):showError(e,"Email jest nieprawid≈Çowy!")}),handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},closeOverlay=function(){handleOverlay(),navBtn.classList.remove("is-active"),nav.classList.remove("nav__list--active"),blockScroll.classList.remove("block-scroll")},handleOverlay=function(){"hidden"==overlay.style.visibility?(overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1)):(setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"))},handleNav=function(){navBtn.classList.toggle("is-active"),nav.classList.toggle("nav__list--active"),handleOverlay(),blockScroll.classList.toggle("block-scroll")},showError=function(e,o){var e=e.parentElement,r=e.querySelector(".contact-form__error-text");e.classList.add("error"),r.textContent=o},removeError=function(e){e.parentElement.classList.remove("error")},checkErrors=function(){var e=document.querySelectorAll(".contact-form__box"),o=0;e.forEach(function(e){e.classList.contains("error")&&o++}),0===o&&1===emailValid&&(blockScroll.classList.add("block-scroll"),popup.classList.add("show-popup"),overlay.style.visibility="visible",setTimeout(function(){overlay.classList.add("active")},1))},clearInputs=function(e){e.forEach(function(e){e.value="",removeError(e)})},popupBtnRemoveOverlay=function(e){e.preventDefault(),clearInputs([msgForm,nameForm,emailForm]),blockScroll.classList.remove("block-scroll"),setTimeout(function(){overlay.style.visibility="hidden"},300),overlay.classList.remove("active"),popup.classList.remove("show-popup")},checkForm=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):removeError(e)})},scrollSpy=(window.onload=function(){btnForm.addEventListener("click",function(e){e.preventDefault(),checkForm([msgForm,nameForm,emailForm]),validateEmail(emailForm),checkErrors()})},function(e){var e=e.getAttribute("href").substring(1),e=document.getElementById(e);e&&(e=e.offsetTop-navbarHeight,window.scrollTo({top:e}))});handleCurrentYear(),navBtn.addEventListener("click",handleNav),window.addEventListener("click",function(e){return e.target===overlay&&closeOverlay()}),popupBtn.addEventListener("click",popupBtnRemoveOverlay),links.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),closeOverlay(),scrollSpy(o)})}),headerLinks.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault(),scrollSpy(o)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4gY29weS5qcyJdLCJuYW1lcyI6WyJuYXZCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZCYXIiLCJuYXYiLCJvdmVybGF5IiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYmxvY2tTY3JvbGwiLCJib2R5IiwiZm9vdGVyWWVhciIsImNvbnRhY3RGb3JtIiwibmFtZUZvcm0iLCJlbWFpbEZvcm0iLCJtc2dGb3JtIiwiYnRuRm9ybSIsInBvcHVwIiwicG9wdXBCdG4iLCJzZWN0aW9ucyIsInNsaWNlIiwiZmlyc3RGb3VyU2VjdGlvbnMiLCJBcnJheSIsIm5hdmJhckhlaWdodCIsImNsaWVudEhlaWdodCIsImhlYWRlckJ0biIsImVtYWlsVmFsaWQiLCJoZWFkZXJMaW5rcyIsImVtYWlsanMiLCJpbml0IiwiZW1haWwiLCJjb250YWN0X251bWJlciIsImxvZyIsInZhbHVlIiwicmVtb3ZlRXJyb3IiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb25zb2xlIiwic2hvd0Vycm9yIiwiZXJyb3IiLCJoYW5kbGVDdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwieWVhciIsImlubmVyVGV4dCIsInBsYWNlaG9sZGVyIiwiY2xvc2VPdmVybGF5IiwiaGFuZGxlT3ZlcmxheSIsIkRhdGUiLCJ2aXNpYmlsaXR5IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic2V0VGltZW91dCIsInN0eWxlIiwiaGFuZGxlTmF2IiwidG9nZ2xlIiwiZm9ybUJveCIsImVycm9yTXNnIiwiaW5wdXQiLCJwYXJlbnRFbGVtZW50IiwiY2hlY2tFcnJvcnMiLCJhbGxJbnB1dHMiLCJmb3JFYWNoIiwibXNnIiwiY29udGFpbnMiLCJlcnJvckNvdW50IiwiYWRkIiwidGV4dENvbnRlbnQiLCJjbGVhcklucHV0cyIsImVsIiwicG9wdXBCdG5SZW1vdmVPdmVybGF5IiwiZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsInZhbGlkYXRlRW1haWwiLCJzY3JvbGxTcHkiLCJsaW5rIiwidGFyZ2V0RWxlbWVudCIsInRhcmdldFBvc2l0aW9uIiwid2luZG93Iiwib25sb2FkIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwic3Vic3RyaW5nIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0YXJnZXRJZCIsIm9mZnNldFRvcCIsInNjcm9sbFRvIiwidG9wIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxPQUFTQyxTQUFTQyxjQUFjLFlBQVksRUFDNUNDLE9BQVNGLFNBQVNDLGNBQWMsTUFBTSxFQUR0Q0YsSUFBTUMsU0FBV0MsY0FBYyxZQUFDLEVBQ2hDQyxRQUFTRixTQUFTQyxjQUFjLFVBQU8sRUFDdkNFLE1BQU1ILFNBQVNDLGlCQUFjLFlBQWEsRUFDMUNHLFlBQVVKLFNBQVNDLEtBQ25CSSxXQUFRTCxTQUFTTSxjQUFpQixlQUFhLEVBQy9DQyxZQUFjUCxTQUFTUSxjQUFJLGVBQUEsRUFDM0JDLFNBQWFULFNBQVNDLGNBQWMsT0FBQSxFQUNwQ1MsVUFBY1YsU0FBU0MsY0FBYyxRQUFBLEVBQ3JDVSxRQUFXWCxTQUFTQyxjQUFjLE1BQU8sRUFDekNXLFFBQVlaLFNBQVNDLGNBQWMsMEJBQVMsRUFDNUNZLE1BQVViLFNBQVNDLGNBQWMsc0JBQU8sRUFDeENhLFNBQVVkLFNBQVNDLGNBQWMsNEJBQTJCLEVBQzVEYyxTQUFRZixTQUFTQyxpQkFBYyxTQUFBLEVBQy9CZSxrQkFBb0JmLE1BQUFBLEtBQWFnQixRQUFDLEVBQUFDLE1BQUEsRUFBQSxDQUFBLEVBQ2xDRCxhQUFXakIsT0FBU00sYUFDcEJhLFVBQUFBLFNBQW9CQyxjQUFXSCxtQkFBcUIsRUFDcERJLGdCQUFlbkIsU0FBT29CLGNBQVkscUJBQUEsRUFDbENDLFlBQVl2QixDQUFBQSxVQUFTQyxpQkFZdEJ1QixlQVZMcEIsUUFBTXFCLE1BQUFBLFdBQWVGLFNBSXJCRyxRQUFRQyxLQUFLLG1CQUFtQixFQU1iLFNBQUFDLEdBRmxCLElBTUNsQixFQUFZbUIsRUFMYixnS0FTV0MsS0FBSUYsRUFBQUcsS0FBVyxHQUFB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Q29udGVudCI6WyJjb25zdCBuYXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyJylcclxuY29uc3QgbmF2QmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdicpXHJcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2xpc3QnKVxyXG5jb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm92ZXJsYXknKVxyXG5jb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2l0ZW0nKVxyXG5jb25zdCBibG9ja1Njcm9sbCA9IGRvY3VtZW50LmJvZHlcclxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX3llYXInKVxyXG5jb25zdCBjb250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250YWN0LWZvcm0nKVxyXG5jb25zdCBuYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJylcclxuY29uc3QgZW1haWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VtYWlsJylcclxuY29uc3QgbXNnRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtc2cnKVxyXG5jb25zdCBidG5Gb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtZm9ybV9faW5wdXQtYnRuJylcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdC1mb3JtX19wb3B1cCcpXHJcbmNvbnN0IHBvcHVwQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtZm9ybV9fcG9wdXAtY2xvc2UnKVxyXG5jb25zdCBzZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24nKVxyXG5jb25zdCBmaXJzdEZvdXJTZWN0aW9ucyA9IEFycmF5LmZyb20oc2VjdGlvbnMpLnNsaWNlKDAsIDQpXHJcbmNvbnN0IG5hdmJhckhlaWdodCA9IG5hdkJhci5jbGllbnRIZWlnaHRcclxuY29uc3QgaGVhZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnRuLWxpbmsnKVxyXG5jb25zdCBoZWFkZXJBcnJvd0Rvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19hcnJvdy1saW5rJylcclxuY29uc3QgaGVhZGVyTGlua3MgPSBbaGVhZGVyQnRuLCBoZWFkZXJBcnJvd0Rvd25dXHJcblxyXG5vdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xyXG5cclxuZW1haWxqcy5pbml0KCdsZ2t6NkNQZ2g2R2JFdUNvTycpXHJcblxyXG5cclxuY29uc3QgdmFsaWRhdGVFbWFpbCA9IGVtYWlsID0+IHtcclxuXHRjb25zdCBlbWFpbFJlZyA9XHJcblx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsNH0pKSQvZ2ltXHJcblx0bGV0IGVtYWlsVmFsaWQgPSAwXHJcblx0XHJcblx0aWYgKGVtYWlsUmVnLnRlc3QoZW1haWwudmFsdWUpICYmIG5hbWVGb3JtLnZhbHVlICE9ICcnICYmIG1zZ0Zvcm0udmFsdWUgIT0gJycpIHtcclxuXHRcdHJlbW92ZUVycm9yKGVtYWlsKVxyXG5cdFx0Y29udGFjdEZvcm0uY29udGFjdF9udW1iZXIudmFsdWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDApXHJcblx0XHRlbWFpbGpzXHJcblx0XHRcdC5zZW5kRm9ybSgnc2VydmljZV80cmFicTdlJywgJ3RlbXBsYXRlXzZ3dGo3bTMnLCBjb250YWN0Rm9ybSlcclxuXHRcdFx0LnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdTVUNDRVNTIScpXHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaChlcnJvciA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ0ZBSUxFRC4uLicsIGVycm9yKVxyXG5cdFx0XHR9KVxyXG5cdFx0ZW1haWxWYWxpZCA9IDFcclxuXHRcdGNvbnNvbGUubG9nKGVtYWlsVmFsaWQpXHJcblx0fSBlbHNlIGlmIChlbWFpbC52YWx1ZSA9PT0gJycpIHNob3dFcnJvcihlbWFpbCwgZW1haWwucGxhY2Vob2xkZXIpXHJcblx0ZWxzZSB7XHJcblx0XHRzaG93RXJyb3IoZW1haWwsICdFbWFpbCBqZXN0IG5pZXByYXdpZMWCb3d5IScpXHJcblx0XHRlbWFpbFZhbGlkID0gMFxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxyXG5cdGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhclxyXG59XHJcblxyXG5jb25zdCBjbG9zZU92ZXJsYXkgPSAoKSA9PiB7XHJcblx0aGFuZGxlT3ZlcmxheSgpXHJcblx0bmF2QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpXHJcblx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdl9fbGlzdC0tYWN0aXZlJylcclxuXHRibG9ja1Njcm9sbC5jbGFzc0xpc3QucmVtb3ZlKCdibG9jay1zY3JvbGwnKVxyXG59XHJcblxyXG5jb25zdCBoYW5kbGVPdmVybGF5ID0gKCkgPT4ge1xyXG5cdGlmIChvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPT0gJ2hpZGRlbicpIHtcclxuXHRcdG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdH0sIDEpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRvdmVybGF5LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xyXG5cdFx0fSwgMzAwKVxyXG5cdFx0b3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG5cdG5hdkJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKVxyXG5cdG5hdi5jbGFzc0xpc3QudG9nZ2xlKCduYXZfX2xpc3QtLWFjdGl2ZScpXHJcblx0aGFuZGxlT3ZlcmxheSgpXHJcblx0YmxvY2tTY3JvbGwuY2xhc3NMaXN0LnRvZ2dsZSgnYmxvY2stc2Nyb2xsJylcclxufVxyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdC1mb3JtX19lcnJvci10ZXh0JylcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJylcclxuXHRlcnJvck1zZy50ZXh0Q29udGVudCA9IG1zZ1xyXG59XHJcblxyXG5jb25zdCByZW1vdmVFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFjdC1mb3JtX19ib3gnKVxyXG5cdGxldCBlcnJvckNvdW50ID0gMFxyXG5cclxuXHRhbGxJbnB1dHMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcblx0XHRcdGVycm9yQ291bnQrK1xyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cdGlmIChlcnJvckNvdW50ID09PSAwICYmIGVtYWlsVmFsaWQgPT09IDEpIHtcclxuXHRcdGJsb2NrU2Nyb2xsLmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLXNjcm9sbCcpXHJcblx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKCdzaG93LXBvcHVwJylcclxuXHRcdG92ZXJsYXkuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuXHRcdH0sIDEpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjbGVhcklucHV0cyA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLnZhbHVlID0gJydcclxuXHRcdHJlbW92ZUVycm9yKGVsKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IHBvcHVwQnRuUmVtb3ZlT3ZlcmxheSA9IGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cdGNsZWFySW5wdXRzKFttc2dGb3JtLCBuYW1lRm9ybSwgZW1haWxGb3JtXSlcclxuXHRibG9ja1Njcm9sbC5jbGFzc0xpc3QucmVtb3ZlKCdibG9jay1zY3JvbGwnKVxyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0b3ZlcmxheS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcclxuXHR9LCAzMDApXHJcblx0b3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctcG9wdXAnKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0Zvcm0gPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwudmFsdWUgPT09ICcnKSB7XHJcblx0XHRcdHNob3dFcnJvcihlbCwgZWwucGxhY2Vob2xkZXIpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmVFcnJvcihlbClcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG5cdGJ0bkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0Y2hlY2tGb3JtKFttc2dGb3JtLCBuYW1lRm9ybSwgZW1haWxGb3JtXSlcclxuXHJcblx0XHR2YWxpZGF0ZUVtYWlsKGVtYWlsRm9ybSlcclxuXHJcblx0XHRjaGVja0Vycm9ycygpXHJcblx0fSlcclxufVxyXG5cclxuXHJcbmNvbnN0IHNjcm9sbFNweSA9IGxpbmsgPT4ge1xyXG5cdGNvbnN0IHRhcmdldElkID0gbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdWJzdHJpbmcoMSlcclxuXHRjb25zdCB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SWQpXHJcblx0XHJcblx0aWYgKHRhcmdldEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IHRhcmdldFBvc2l0aW9uID0gdGFyZ2V0RWxlbWVudC5vZmZzZXRUb3AgLSBuYXZiYXJIZWlnaHRcclxuXHRcdHdpbmRvdy5zY3JvbGxUbyh7XHJcblx0XHRcdHRvcDogdGFyZ2V0UG9zaXRpb24sXHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG5cclxuaGFuZGxlQ3VycmVudFllYXIoKVxyXG5uYXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gKGUudGFyZ2V0ID09PSBvdmVybGF5ID8gY2xvc2VPdmVybGF5KCkgOiBmYWxzZSkpXHJcbnBvcHVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcG9wdXBCdG5SZW1vdmVPdmVybGF5KVxyXG5saW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xyXG5cdGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0Y2xvc2VPdmVybGF5KClcclxuXHRcdHNjcm9sbFNweShsaW5rKVxyXG5cdH0pXHJcbn0pXHJcbmhlYWRlckxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcblx0bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRzY3JvbGxTcHkobGluaylcclxuXHR9KVxyXG59KVxyXG4iXX0=
